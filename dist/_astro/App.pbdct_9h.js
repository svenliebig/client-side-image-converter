import{j as $}from"./jsx-runtime.CTPsGruR.js";import{r as dt,e as ce}from"./index.BTS8PXvl.js";/* empty css                       */const Lr=["image/svg+xml","image/png","image/jpeg","image/jpg"],Fr=({onImageAccepted:f})=>{const[i,n]=dt.useState(!1),[t,r]=dt.useState(!1),[e,h]=dt.useState(!1),c=a=>{a.preventDefault(),n(!0)},m=()=>{n(!1)},v=a=>{a.preventDefault(),n(!1);const o=a.dataTransfer.files[0];o&&Lr.includes(o.type)?(h(!0),r(!1),f(o),setTimeout(()=>h(!1),2e3)):(r(!0),h(!1),setTimeout(()=>r(!1),2e3))};return $.jsx("div",{onDragOver:c,onDragLeave:m,onDrop:v,className:`w-full h-96 border-4 border-dashed rounded-xl transition-all duration-300 flex items-center justify-center
        ${i?"scale-105":""}
        ${t?"border-red-500":""}
        ${e?"border-primary-light dark:border-primary-dark":""}
        ${!i&&!t&&!e?"border-gray-300 dark:border-gray-700":""}
      `,children:t?$.jsxs("div",{className:"text-center",children:[$.jsx("div",{className:"text-6xl mb-4",children:"ðŸ˜¢"}),$.jsx("div",{className:"text-red-500",children:"Filetype not supported (yet)"})]}):e?$.jsxs("div",{className:"text-center",children:[$.jsx("div",{className:"text-6xl mb-4",children:"âœ…"}),$.jsx("div",{className:"text-primary-light dark:text-primary-dark",children:"Processing image..."})]}):$.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[$.jsx("p",{className:"text-lg",children:"Drop your image here"}),$.jsx("p",{className:"text-sm",children:"Supported formats: SVG, PNG, JPEG"})]})})};function Hr(f,i){return i.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(t){if(t!=="default"&&!(t in f)){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(f,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}})}),Object.freeze(f)}function hr(f,i){return new Promise(function(n,t){let r;return zr(f).then(function(e){try{return r=e,n(new Blob([i.slice(0,2),r,i.slice(2)],{type:"image/jpeg"}))}catch(h){return t(h)}},t)})}const zr=f=>new Promise((i,n)=>{const t=new FileReader;t.addEventListener("load",({target:{result:r}})=>{const e=new DataView(r);let h=0;if(e.getUint16(h)!==65496)return n("not a valid JPEG");for(h+=2;;){const c=e.getUint16(h);if(c===65498)break;const m=e.getUint16(h+2);if(c===65505&&e.getUint32(h+4)===1165519206){const v=h+10;let a;switch(e.getUint16(v)){case 18761:a=!0;break;case 19789:a=!1;break;default:return n("TIFF header contains invalid endian")}if(e.getUint16(v+2,a)!==42)return n("TIFF header contains invalid version");const o=e.getUint32(v+4,a),s=v+o+2+12*e.getUint16(v+o,a);for(let l=v+o+2;l<s;l+=12)if(e.getUint16(l,a)==274){if(e.getUint16(l+2,a)!==3)return n("Orientation data type is invalid");if(e.getUint32(l+4,a)!==1)return n("Orientation data count is invalid");e.setUint16(l+8,1,a);break}return i(r.slice(h,h+2+m))}h+=2+m}return i(new Blob)}),t.readAsArrayBuffer(f)});var de={},Br={get exports(){return de},set exports(f){de=f}};(function(f){var i,n,t={};Br.exports=t,t.parse=function(r,e){for(var h=t.bin.readUshort,c=t.bin.readUint,m=0,v={},a=new Uint8Array(r),o=a.length-4;c(a,o)!=101010256;)o--;m=o,m+=4;var s=h(a,m+=4);h(a,m+=2);var l=c(a,m+=2),w=c(a,m+=4);m+=4,m=w;for(var E=0;E<s;E++){c(a,m),m+=4,m+=4,m+=4,c(a,m+=4),l=c(a,m+=4);var C=c(a,m+=4),y=h(a,m+=4),_=h(a,m+2),U=h(a,m+4);m+=6;var S=c(a,m+=8);m+=4,m+=y+_+U,t._readLocal(a,S,v,l,C,e)}return v},t._readLocal=function(r,e,h,c,m,v){var a=t.bin.readUshort,o=t.bin.readUint;o(r,e),a(r,e+=4),a(r,e+=2);var s=a(r,e+=2);o(r,e+=2),o(r,e+=4),e+=4;var l=a(r,e+=8),w=a(r,e+=2);e+=2;var E=t.bin.readUTF8(r,e,l);if(e+=l,e+=w,v)h[E]={size:m,csize:c};else{var C=new Uint8Array(r.buffer,e);if(s==0)h[E]=new Uint8Array(C.buffer.slice(e,e+c));else{if(s!=8)throw"unknown compression method: "+s;var y=new Uint8Array(m);t.inflateRaw(C,y),h[E]=y}}},t.inflateRaw=function(r,e){return t.F.inflate(r,e)},t.inflate=function(r,e){return r[0],r[1],t.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),e)},t.deflate=function(r,e){e==null&&(e={level:6});var h=0,c=new Uint8Array(50+Math.floor(1.1*r.length));c[h]=120,c[h+1]=156,h+=2,h=t.F.deflateRaw(r,c,h,e.level);var m=t.adler(r,0,r.length);return c[h+0]=m>>>24&255,c[h+1]=m>>>16&255,c[h+2]=m>>>8&255,c[h+3]=m>>>0&255,new Uint8Array(c.buffer,0,h+4)},t.deflateRaw=function(r,e){e==null&&(e={level:6});var h=new Uint8Array(50+Math.floor(1.1*r.length)),c=t.F.deflateRaw(r,h,c,e.level);return new Uint8Array(h.buffer,0,c)},t.encode=function(r,e){e==null&&(e=!1);var h=0,c=t.bin.writeUint,m=t.bin.writeUshort,v={};for(var a in r){var o=!t._noNeed(a)&&!e,s=r[a],l=t.crc.crc(s,0,s.length);v[a]={cpr:o,usize:s.length,crc:l,file:o?t.deflateRaw(s):s}}for(var a in v)h+=v[a].file.length+30+46+2*t.bin.sizeUTF8(a);h+=22;var w=new Uint8Array(h),E=0,C=[];for(var a in v){var y=v[a];C.push(E),E=t._writeHeader(w,E,a,y,0)}var _=0,U=E;for(var a in v)y=v[a],C.push(E),E=t._writeHeader(w,E,a,y,1,C[_++]);var S=E-U;return c(w,E,101010256),E+=4,m(w,E+=4,_),m(w,E+=2,_),c(w,E+=2,S),c(w,E+=4,U),E+=4,E+=2,w.buffer},t._noNeed=function(r){var e=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(e)!=-1},t._writeHeader=function(r,e,h,c,m,v){var a=t.bin.writeUint,o=t.bin.writeUshort,s=c.file;return a(r,e,m==0?67324752:33639248),e+=4,m==1&&(e+=2),o(r,e,20),o(r,e+=2,0),o(r,e+=2,c.cpr?8:0),a(r,e+=2,0),a(r,e+=4,c.crc),a(r,e+=4,s.length),a(r,e+=4,c.usize),o(r,e+=4,t.bin.sizeUTF8(h)),o(r,e+=2,0),e+=2,m==1&&(e+=2,e+=2,a(r,e+=6,v),e+=4),e+=t.bin.writeUTF8(r,e,h),m==0&&(r.set(s,e),e+=s.length),e},t.crc={table:function(){for(var r=new Uint32Array(256),e=0;e<256;e++){for(var h=e,c=0;c<8;c++)1&h?h=3988292384^h>>>1:h>>>=1;r[e]=h}return r}(),update:function(r,e,h,c){for(var m=0;m<c;m++)r=t.crc.table[255&(r^e[h+m])]^r>>>8;return r},crc:function(r,e,h){return 4294967295^t.crc.update(4294967295,r,e,h)}},t.adler=function(r,e,h){for(var c=1,m=0,v=e,a=e+h;v<a;){for(var o=Math.min(v+5552,a);v<o;)m+=c+=r[v++];c%=65521,m%=65521}return m<<16|c},t.bin={readUshort:function(r,e){return r[e]|r[e+1]<<8},writeUshort:function(r,e,h){r[e]=255&h,r[e+1]=h>>8&255},readUint:function(r,e){return 16777216*r[e+3]+(r[e+2]<<16|r[e+1]<<8|r[e])},writeUint:function(r,e,h){r[e]=255&h,r[e+1]=h>>8&255,r[e+2]=h>>16&255,r[e+3]=h>>24&255},readASCII:function(r,e,h){for(var c="",m=0;m<h;m++)c+=String.fromCharCode(r[e+m]);return c},writeASCII:function(r,e,h){for(var c=0;c<h.length;c++)r[e+c]=h.charCodeAt(c)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,e,h){for(var c,m="",v=0;v<h;v++)m+="%"+t.bin.pad(r[e+v].toString(16));try{c=decodeURIComponent(m)}catch{return t.bin.readASCII(r,e,h)}return c},writeUTF8:function(r,e,h){for(var c=h.length,m=0,v=0;v<c;v++){var a=h.charCodeAt(v);if(!(4294967168&a))r[e+m]=a,m++;else if(!(4294965248&a))r[e+m]=192|a>>6,r[e+m+1]=128|a>>0&63,m+=2;else if(!(4294901760&a))r[e+m]=224|a>>12,r[e+m+1]=128|a>>6&63,r[e+m+2]=128|a>>0&63,m+=3;else{if(4292870144&a)throw"e";r[e+m]=240|a>>18,r[e+m+1]=128|a>>12&63,r[e+m+2]=128|a>>6&63,r[e+m+3]=128|a>>0&63,m+=4}}return m},sizeUTF8:function(r){for(var e=r.length,h=0,c=0;c<e;c++){var m=r.charCodeAt(c);if(!(4294967168&m))h++;else if(!(4294965248&m))h+=2;else if(!(4294901760&m))h+=3;else{if(4292870144&m)throw"e";h+=4}}return h}},t.F={},t.F.deflateRaw=function(r,e,h,c){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],v=t.F.U,a=t.F._goodIndex;t.F._hash;var o=t.F._putsE,s=0,l=h<<3,w=0,E=r.length;if(c==0){for(;s<E;)o(e,l,s+(M=Math.min(65535,E-s))==E?1:0),l=t.F._copyExact(r,s,M,e,l+8),s+=M;return l>>>3}var C=v.lits,y=v.strt,_=v.prev,U=0,S=0,k=0,u=0,O=0,d=0;for(E>2&&(y[d=t.F._hash(r,0)]=0),s=0;s<E;s++){if(O=d,s+1<E-2){d=t.F._hash(r,s+1);var p=s+1&32767;_[p]=y[d],y[d]=p}if(w<=s){(U>14e3||S>26697)&&E-s>100&&(w<s&&(C[U]=s-w,U+=2,w=s),l=t.F._writeBlock(s==E-1||w==E?1:0,C,U,u,r,k,s-k,e,l),U=S=u=0,k=s);var x=0;s<E-2&&(x=t.F._bestMatch(r,s,_,O,Math.min(m[2],E-s),m[3]));var M=x>>>16,D=65535&x;if(x!=0){D=65535&x;var T=a(M=x>>>16,v.of0);v.lhst[257+T]++;var A=a(D,v.df0);v.dhst[A]++,u+=v.exb[T]+v.dxb[A],C[U]=M<<23|s-w,C[U+1]=D<<16|T<<8|A,U+=2,w=s+M}else v.lhst[r[s]]++;S++}}for(k==s&&r.length!=0||(w<s&&(C[U]=s-w,U+=2,w=s),l=t.F._writeBlock(1,C,U,u,r,k,s-k,e,l),U=0,S=0,U=S=u=0,k=s);7&l;)l++;return l>>>3},t.F._bestMatch=function(r,e,h,c,m,v){var a=32767&e,o=h[a],s=a-o+32768&32767;if(o==a||c!=t.F._hash(r,e-s))return 0;for(var l=0,w=0,E=Math.min(32767,e);s<=E&&--v!=0&&o!=a;){if(l==0||r[e+l]==r[e+l-s]){var C=t.F._howLong(r,e,s);if(C>l){if(w=s,(l=C)>=m)break;s+2<C&&(C=s+2);for(var y=0,_=0;_<C-2;_++){var U=e-s+_+32768&32767,S=U-h[U]+32768&32767;S>y&&(y=S,o=U)}}}s+=(a=o)-(o=h[a])+32768&32767}return l<<16|w},t.F._howLong=function(r,e,h){if(r[e]!=r[e-h]||r[e+1]!=r[e+1-h]||r[e+2]!=r[e+2-h])return 0;var c=e,m=Math.min(r.length,e+258);for(e+=3;e<m&&r[e]==r[e-h];)e++;return e-c},t.F._hash=function(r,e){return(r[e]<<8|r[e+1])+(r[e+2]<<4)&65535},t.saved=0,t.F._writeBlock=function(r,e,h,c,m,v,a,o,s){var l,w,E,C,y,_,U,S,k,u=t.F.U,O=t.F._putsF,d=t.F._putsE;u.lhst[256]++,w=(l=t.F.getTrees())[0],E=l[1],C=l[2],y=l[3],_=l[4],U=l[5],S=l[6],k=l[7];var p=32+(s+3&7?8-(s+3&7):0)+(a<<3),x=c+t.F.contSize(u.fltree,u.lhst)+t.F.contSize(u.fdtree,u.dhst),M=c+t.F.contSize(u.ltree,u.lhst)+t.F.contSize(u.dtree,u.dhst);M+=14+3*U+t.F.contSize(u.itree,u.ihst)+(2*u.ihst[16]+3*u.ihst[17]+7*u.ihst[18]);for(var D=0;D<286;D++)u.lhst[D]=0;for(D=0;D<30;D++)u.dhst[D]=0;for(D=0;D<19;D++)u.ihst[D]=0;var T=p<x&&p<M?0:x<M?1:2;if(O(o,s,r),O(o,s+1,T),s+=3,T==0){for(;7&s;)s++;s=t.F._copyExact(m,v,a,o,s)}else{var A,R;if(T==1&&(A=u.fltree,R=u.fdtree),T==2){t.F.makeCodes(u.ltree,w),t.F.revCodes(u.ltree,w),t.F.makeCodes(u.dtree,E),t.F.revCodes(u.dtree,E),t.F.makeCodes(u.itree,C),t.F.revCodes(u.itree,C),A=u.ltree,R=u.dtree,d(o,s,y-257),d(o,s+=5,_-1),d(o,s+=5,U-4),s+=4;for(var b=0;b<U;b++)d(o,s+3*b,u.itree[1+(u.ordr[b]<<1)]);s+=3*U,s=t.F._codeTiny(S,u.itree,o,s),s=t.F._codeTiny(k,u.itree,o,s)}for(var g=v,P=0;P<h;P+=2){for(var I=e[P],L=I>>>23,B=g+(8388607&I);g<B;)s=t.F._writeLit(m[g++],A,o,s);if(L!=0){var H=e[P+1],z=H>>16,F=H>>8&255,N=255&H;d(o,s=t.F._writeLit(257+F,A,o,s),L-u.of0[F]),s+=u.exb[F],O(o,s=t.F._writeLit(N,R,o,s),z-u.df0[N]),s+=u.dxb[N],g+=L}}s=t.F._writeLit(256,A,o,s)}return s},t.F._copyExact=function(r,e,h,c,m){var v=m>>>3;return c[v]=h,c[v+1]=h>>>8,c[v+2]=255-c[v],c[v+3]=255-c[v+1],v+=4,c.set(new Uint8Array(r.buffer,e,h),v),m+(h+4<<3)},t.F.getTrees=function(){for(var r=t.F.U,e=t.F._hufTree(r.lhst,r.ltree,15),h=t.F._hufTree(r.dhst,r.dtree,15),c=[],m=t.F._lenCodes(r.ltree,c),v=[],a=t.F._lenCodes(r.dtree,v),o=0;o<c.length;o+=2)r.ihst[c[o]]++;for(o=0;o<v.length;o+=2)r.ihst[v[o]]++;for(var s=t.F._hufTree(r.ihst,r.itree,7),l=19;l>4&&r.itree[1+(r.ordr[l-1]<<1)]==0;)l--;return[e,h,s,m,a,l,c,v]},t.F.getSecond=function(r){for(var e=[],h=0;h<r.length;h+=2)e.push(r[h+1]);return e},t.F.nonZero=function(r){for(var e="",h=0;h<r.length;h+=2)r[h+1]!=0&&(e+=(h>>1)+",");return e},t.F.contSize=function(r,e){for(var h=0,c=0;c<e.length;c++)h+=e[c]*r[1+(c<<1)];return h},t.F._codeTiny=function(r,e,h,c){for(var m=0;m<r.length;m+=2){var v=r[m],a=r[m+1];c=t.F._writeLit(v,e,h,c);var o=v==16?2:v==17?3:7;v>15&&(t.F._putsE(h,c,a,o),c+=o)}return c},t.F._lenCodes=function(r,e){for(var h=r.length;h!=2&&r[h-1]==0;)h-=2;for(var c=0;c<h;c+=2){var m=r[c+1],v=c+3<h?r[c+3]:-1,a=c+5<h?r[c+5]:-1,o=c==0?-1:r[c-1];if(m==0&&v==m&&a==m){for(var s=c+5;s+2<h&&r[s+2]==m;)s+=2;(l=Math.min(s+1-c>>>1,138))<11?e.push(17,l-3):e.push(18,l-11),c+=2*l-2}else if(m==o&&v==m&&a==m){for(s=c+5;s+2<h&&r[s+2]==m;)s+=2;var l=Math.min(s+1-c>>>1,6);e.push(16,l-3),c+=2*l-2}else e.push(m,0)}return h>>>1},t.F._hufTree=function(r,e,h){var c=[],m=r.length,v=e.length,a=0;for(a=0;a<v;a+=2)e[a]=0,e[a+1]=0;for(a=0;a<m;a++)r[a]!=0&&c.push({lit:a,f:r[a]});var o=c.length,s=c.slice(0);if(o==0)return 0;if(o==1){var l=c[0].lit;return s=l==0?1:0,e[1+(l<<1)]=1,e[1+(s<<1)]=1,1}c.sort(function(S,k){return S.f-k.f});var w=c[0],E=c[1],C=0,y=1,_=2;for(c[0]={lit:-1,f:w.f+E.f,l:w,r:E,d:0};y!=o-1;)w=C!=y&&(_==o||c[C].f<c[_].f)?c[C++]:c[_++],E=C!=y&&(_==o||c[C].f<c[_].f)?c[C++]:c[_++],c[y++]={lit:-1,f:w.f+E.f,l:w,r:E};var U=t.F.setDepth(c[y-1],0);for(U>h&&(t.F.restrictDepth(s,h,U),U=h),a=0;a<o;a++)e[1+(s[a].lit<<1)]=s[a].d;return U},t.F.setDepth=function(r,e){return r.lit!=-1?(r.d=e,e):Math.max(t.F.setDepth(r.l,e+1),t.F.setDepth(r.r,e+1))},t.F.restrictDepth=function(r,e,h){var c=0,m=1<<h-e,v=0;for(r.sort(function(o,s){return s.d==o.d?o.f-s.f:s.d-o.d}),c=0;c<r.length&&r[c].d>e;c++){var a=r[c].d;r[c].d=e,v+=m-(1<<h-a)}for(v>>>=h-e;v>0;)(a=r[c].d)<e?(r[c].d++,v-=1<<e-a-1):c++;for(;c>=0;c--)r[c].d==e&&v<0&&(r[c].d--,v++);v!=0&&console.log("debt left")},t.F._goodIndex=function(r,e){var h=0;return e[16|h]<=r&&(h|=16),e[8|h]<=r&&(h|=8),e[4|h]<=r&&(h|=4),e[2|h]<=r&&(h|=2),e[1|h]<=r&&(h|=1),h},t.F._writeLit=function(r,e,h,c){return t.F._putsF(h,c,e[r<<1]),c+e[1+(r<<1)]},t.F.inflate=function(r,e){var h=Uint8Array;if(r[0]==3&&r[1]==0)return e||new h(0);var c=t.F,m=c._bitsF,v=c._bitsE,a=c._decodeTiny,o=c.makeCodes,s=c.codes2map,l=c._get17,w=c.U,E=e==null;E&&(e=new h(r.length>>>2<<3));for(var C,y,_=0,U=0,S=0,k=0,u=0,O=0,d=0,p=0,x=0;_==0;)if(_=m(r,x,1),U=m(r,x+1,2),x+=3,U!=0){if(E&&(e=t.F._check(e,p+(1<<17))),U==1&&(C=w.flmap,y=w.fdmap,O=511,d=31),U==2){S=v(r,x,5)+257,k=v(r,x+5,5)+1,u=v(r,x+10,4)+4,x+=14;for(var M=0;M<38;M+=2)w.itree[M]=0,w.itree[M+1]=0;var D=1;for(M=0;M<u;M++){var T=v(r,x+3*M,3);w.itree[1+(w.ordr[M]<<1)]=T,T>D&&(D=T)}x+=3*u,o(w.itree,D),s(w.itree,D,w.imap),C=w.lmap,y=w.dmap,x=a(w.imap,(1<<D)-1,S+k,r,x,w.ttree);var A=c._copyOut(w.ttree,0,S,w.ltree);O=(1<<A)-1;var R=c._copyOut(w.ttree,S,k,w.dtree);d=(1<<R)-1,o(w.ltree,A),s(w.ltree,A,C),o(w.dtree,R),s(w.dtree,R,y)}for(;;){var b=C[l(r,x)&O];x+=15&b;var g=b>>>4;if(!(g>>>8))e[p++]=g;else{if(g==256)break;var P=p+g-254;if(g>264){var I=w.ldef[g-257];P=p+(I>>>3)+v(r,x,7&I),x+=7&I}var L=y[l(r,x)&d];x+=15&L;var B=L>>>4,H=w.ddef[B],z=(H>>>4)+m(r,x,15&H);for(x+=15&H,E&&(e=t.F._check(e,p+(1<<17)));p<P;)e[p]=e[p++-z],e[p]=e[p++-z],e[p]=e[p++-z],e[p]=e[p++-z];p=P}}}else{7&x&&(x+=8-(7&x));var F=4+(x>>>3),N=r[F-4]|r[F-3]<<8;E&&(e=t.F._check(e,p+N)),e.set(new h(r.buffer,r.byteOffset+F,N),p),x=F+N<<3,p+=N}return e.length==p?e:e.slice(0,p)},t.F._check=function(r,e){var h=r.length;if(e<=h)return r;var c=new Uint8Array(Math.max(h<<1,e));return c.set(r,0),c},t.F._decodeTiny=function(r,e,h,c,m,v){for(var a=t.F._bitsE,o=t.F._get17,s=0;s<h;){var l=r[o(c,m)&e];m+=15&l;var w=l>>>4;if(w<=15)v[s]=w,s++;else{var E=0,C=0;w==16?(C=3+a(c,m,2),m+=2,E=v[s-1]):w==17?(C=3+a(c,m,3),m+=3):w==18&&(C=11+a(c,m,7),m+=7);for(var y=s+C;s<y;)v[s]=E,s++}}return m},t.F._copyOut=function(r,e,h,c){for(var m=0,v=0,a=c.length>>>1;v<h;){var o=r[v+e];c[v<<1]=0,c[1+(v<<1)]=o,o>m&&(m=o),v++}for(;v<a;)c[v<<1]=0,c[1+(v<<1)]=0,v++;return m},t.F.makeCodes=function(r,e){for(var h,c,m,v,a=t.F.U,o=r.length,s=a.bl_count,l=0;l<=e;l++)s[l]=0;for(l=1;l<o;l+=2)s[r[l]]++;var w=a.next_code;for(h=0,s[0]=0,c=1;c<=e;c++)h=h+s[c-1]<<1,w[c]=h;for(m=0;m<o;m+=2)(v=r[m+1])!=0&&(r[m]=w[v],w[v]++)},t.F.codes2map=function(r,e,h){for(var c=r.length,m=t.F.U.rev15,v=0;v<c;v+=2)if(r[v+1]!=0)for(var a=v>>1,o=r[v+1],s=a<<4|o,l=e-o,w=r[v]<<l,E=w+(1<<l);w!=E;)h[m[w]>>>15-e]=s,w++},t.F.revCodes=function(r,e){for(var h=t.F.U.rev15,c=15-e,m=0;m<r.length;m+=2){var v=r[m]<<e-r[m+1];r[m]=h[v]>>>c}},t.F._putsE=function(r,e,h){h<<=7&e;var c=e>>>3;r[c]|=h,r[c+1]|=h>>>8},t.F._putsF=function(r,e,h){h<<=7&e;var c=e>>>3;r[c]|=h,r[c+1]|=h>>>8,r[c+2]|=h>>>16},t.F._bitsE=function(r,e,h){return(r[e>>>3]|r[1+(e>>>3)]<<8)>>>(7&e)&(1<<h)-1},t.F._bitsF=function(r,e,h){return(r[e>>>3]|r[1+(e>>>3)]<<8|r[2+(e>>>3)]<<16)>>>(7&e)&(1<<h)-1},t.F._get17=function(r,e){return(r[e>>>3]|r[1+(e>>>3)]<<8|r[2+(e>>>3)]<<16)>>>(7&e)},t.F._get25=function(r,e){return(r[e>>>3]|r[1+(e>>>3)]<<8|r[2+(e>>>3)]<<16|r[3+(e>>>3)]<<24)>>>(7&e)},t.F.U=(i=Uint16Array,n=Uint32Array,{next_code:new i(16),bl_count:new i(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new i(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new i(512),fltree:[],fdmap:new i(32),fdtree:[],lmap:new i(32768),ltree:[],ttree:[],dmap:new i(32768),dtree:[],imap:new i(512),itree:[],rev15:new i(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new i(65536),prev:new i(32768)}),function(){for(var r=t.F.U,e=0;e<32768;e++){var h=e;h=(4278255360&(h=(4042322160&(h=(3435973836&(h=(2863311530&h)>>>1|(1431655765&h)<<1))>>>2|(858993459&h)<<2))>>>4|(252645135&h)<<4))>>>8|(16711935&h)<<8,r.rev15[e]=(h>>>16|h<<16)>>>17}function c(m,v,a){for(;v--!=0;)m.push(0,a)}for(e=0;e<32;e++)r.ldef[e]=r.of0[e]<<3|r.exb[e],r.ddef[e]=r.df0[e]<<4|r.dxb[e];c(r.fltree,144,8),c(r.fltree,112,9),c(r.fltree,24,7),c(r.fltree,8,8),t.F.makeCodes(r.fltree,9),t.F.codes2map(r.fltree,9,r.flmap),t.F.revCodes(r.fltree,9),c(r.fdtree,32,5),t.F.makeCodes(r.fdtree,5),t.F.codes2map(r.fdtree,5,r.fdmap),t.F.revCodes(r.fdtree,5),c(r.itree,19,0),c(r.ltree,286,0),c(r.dtree,30,0),c(r.ttree,320,0)}()})();var jr=Hr({__proto__:null,default:de},[de]);const Et=function(){var f={nextZero(a,o){for(;a[o]!=0;)o++;return o},readUshort:(a,o)=>a[o]<<8|a[o+1],writeUshort(a,o,s){a[o]=s>>8&255,a[o+1]=255&s},readUint:(a,o)=>16777216*a[o]+(a[o+1]<<16|a[o+2]<<8|a[o+3]),writeUint(a,o,s){a[o]=s>>24&255,a[o+1]=s>>16&255,a[o+2]=s>>8&255,a[o+3]=255&s},readASCII(a,o,s){let l="";for(let w=0;w<s;w++)l+=String.fromCharCode(a[o+w]);return l},writeASCII(a,o,s){for(let l=0;l<s.length;l++)a[o+l]=s.charCodeAt(l)},readBytes(a,o,s){const l=[];for(let w=0;w<s;w++)l.push(a[o+w]);return l},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,o,s){let l,w="";for(let E=0;E<s;E++)w+=`%${f.pad(a[o+E].toString(16))}`;try{l=decodeURIComponent(w)}catch{return f.readASCII(a,o,s)}return l}};function i(a,o,s,l){const w=o*s,E=e(l),C=Math.ceil(o*E/8),y=new Uint8Array(4*w),_=new Uint32Array(y.buffer),{ctype:U}=l,{depth:S}=l,k=f.readUshort;if(U==6){const I=w<<2;if(S==8)for(var u=0;u<I;u+=4)y[u]=a[u],y[u+1]=a[u+1],y[u+2]=a[u+2],y[u+3]=a[u+3];if(S==16)for(u=0;u<I;u++)y[u]=a[u<<1]}else if(U==2){const I=l.tabs.tRNS;if(I==null){if(S==8)for(u=0;u<w;u++){var O=3*u;_[u]=255<<24|a[O+2]<<16|a[O+1]<<8|a[O]}if(S==16)for(u=0;u<w;u++)O=6*u,_[u]=255<<24|a[O+4]<<16|a[O+2]<<8|a[O]}else{var d=I[0];const L=I[1],B=I[2];if(S==8)for(u=0;u<w;u++){var p=u<<2;O=3*u,_[u]=255<<24|a[O+2]<<16|a[O+1]<<8|a[O],a[O]==d&&a[O+1]==L&&a[O+2]==B&&(y[p+3]=0)}if(S==16)for(u=0;u<w;u++)p=u<<2,O=6*u,_[u]=255<<24|a[O+4]<<16|a[O+2]<<8|a[O],k(a,O)==d&&k(a,O+2)==L&&k(a,O+4)==B&&(y[p+3]=0)}}else if(U==3){const I=l.tabs.PLTE,L=l.tabs.tRNS,B=L?L.length:0;if(S==1)for(var x=0;x<s;x++){var M=x*C,D=x*o;for(u=0;u<o;u++){p=D+u<<2;var T=3*(A=a[M+(u>>3)]>>7-((7&u)<<0)&1);y[p]=I[T],y[p+1]=I[T+1],y[p+2]=I[T+2],y[p+3]=A<B?L[A]:255}}if(S==2)for(x=0;x<s;x++)for(M=x*C,D=x*o,u=0;u<o;u++)p=D+u<<2,T=3*(A=a[M+(u>>2)]>>6-((3&u)<<1)&3),y[p]=I[T],y[p+1]=I[T+1],y[p+2]=I[T+2],y[p+3]=A<B?L[A]:255;if(S==4)for(x=0;x<s;x++)for(M=x*C,D=x*o,u=0;u<o;u++)p=D+u<<2,T=3*(A=a[M+(u>>1)]>>4-((1&u)<<2)&15),y[p]=I[T],y[p+1]=I[T+1],y[p+2]=I[T+2],y[p+3]=A<B?L[A]:255;if(S==8)for(u=0;u<w;u++){var A;p=u<<2,T=3*(A=a[u]),y[p]=I[T],y[p+1]=I[T+1],y[p+2]=I[T+2],y[p+3]=A<B?L[A]:255}}else if(U==4){if(S==8)for(u=0;u<w;u++){p=u<<2;var R=a[b=u<<1];y[p]=R,y[p+1]=R,y[p+2]=R,y[p+3]=a[b+1]}if(S==16)for(u=0;u<w;u++){var b;p=u<<2,R=a[b=u<<2],y[p]=R,y[p+1]=R,y[p+2]=R,y[p+3]=a[b+2]}}else if(U==0)for(d=l.tabs.tRNS?l.tabs.tRNS:-1,x=0;x<s;x++){const I=x*C,L=x*o;if(S==1)for(var g=0;g<o;g++){var P=(R=255*(a[I+(g>>>3)]>>>7-(7&g)&1))==255*d?0:255;_[L+g]=P<<24|R<<16|R<<8|R}else if(S==2)for(g=0;g<o;g++)P=(R=85*(a[I+(g>>>2)]>>>6-((3&g)<<1)&3))==85*d?0:255,_[L+g]=P<<24|R<<16|R<<8|R;else if(S==4)for(g=0;g<o;g++)P=(R=17*(a[I+(g>>>1)]>>>4-((1&g)<<2)&15))==17*d?0:255,_[L+g]=P<<24|R<<16|R<<8|R;else if(S==8)for(g=0;g<o;g++)P=(R=a[I+g])==d?0:255,_[L+g]=P<<24|R<<16|R<<8|R;else if(S==16)for(g=0;g<o;g++)R=a[I+(g<<1)],P=k(a,I+(g<<1))==d?0:255,_[L+g]=P<<24|R<<16|R<<8|R}return y}function n(a,o,s,l){const w=e(a),E=Math.ceil(s*w/8),C=new Uint8Array((E+1+a.interlace)*l);return o=a.tabs.CgBI?r(o,C):t(o,C),a.interlace==0?o=h(o,a,0,s,l):a.interlace==1&&(o=function(_,U){const S=U.width,k=U.height,u=e(U),O=u>>3,d=Math.ceil(S*u/8),p=new Uint8Array(k*d);let x=0;const M=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],T=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let R=0;for(;R<7;){const g=T[R],P=A[R];let I=0,L=0,B=M[R];for(;B<k;)B+=g,L++;let H=D[R];for(;H<S;)H+=P,I++;const z=Math.ceil(I*u/8);h(_,U,x,I,L);let F=0,N=M[R];for(;N<k;){let j=D[R],q=x+F*z<<3;for(;j<S;){var b;if(u==1&&(b=(b=_[q>>3])>>7-(7&q)&1,p[N*d+(j>>3)]|=b<<7-((7&j)<<0)),u==2&&(b=(b=_[q>>3])>>6-(7&q)&3,p[N*d+(j>>2)]|=b<<6-((3&j)<<1)),u==4&&(b=(b=_[q>>3])>>4-(7&q)&15,p[N*d+(j>>1)]|=b<<4-((1&j)<<2)),u>=8){const X=N*d+j*O;for(let Y=0;Y<O;Y++)p[X+Y]=_[(q>>3)+Y]}q+=u,j+=P}F++,N+=g}I*L!=0&&(x+=L*(1+z)),R+=1}return p}(o,a)),o}function t(a,o){return r(new Uint8Array(a.buffer,2,a.length-6),o)}var r=function(){const a={H:{}};return a.H.N=function(o,s){const l=Uint8Array;let w,E,C=0,y=0,_=0,U=0,S=0,k=0,u=0,O=0,d=0;if(o[0]==3&&o[1]==0)return s||new l(0);const p=a.H,x=p.b,M=p.e,D=p.R,T=p.n,A=p.A,R=p.Z,b=p.m,g=s==null;for(g&&(s=new l(o.length>>>2<<5));C==0;)if(C=x(o,d,1),y=x(o,d+1,2),d+=3,y!=0){if(g&&(s=a.H.W(s,O+(1<<17))),y==1&&(w=b.J,E=b.h,k=511,u=31),y==2){_=M(o,d,5)+257,U=M(o,d+5,5)+1,S=M(o,d+10,4)+4,d+=14;let I=1;for(var P=0;P<38;P+=2)b.Q[P]=0,b.Q[P+1]=0;for(P=0;P<S;P++){const H=M(o,d+3*P,3);b.Q[1+(b.X[P]<<1)]=H,H>I&&(I=H)}d+=3*S,T(b.Q,I),A(b.Q,I,b.u),w=b.w,E=b.d,d=D(b.u,(1<<I)-1,_+U,o,d,b.v);const L=p.V(b.v,0,_,b.C);k=(1<<L)-1;const B=p.V(b.v,_,U,b.D);u=(1<<B)-1,T(b.C,L),A(b.C,L,w),T(b.D,B),A(b.D,B,E)}for(;;){const I=w[R(o,d)&k];d+=15&I;const L=I>>>4;if(!(L>>>8))s[O++]=L;else{if(L==256)break;{let B=O+L-254;if(L>264){const j=b.q[L-257];B=O+(j>>>3)+M(o,d,7&j),d+=7&j}const H=E[R(o,d)&u];d+=15&H;const z=H>>>4,F=b.c[z],N=(F>>>4)+x(o,d,15&F);for(d+=15&F;O<B;)s[O]=s[O++-N],s[O]=s[O++-N],s[O]=s[O++-N],s[O]=s[O++-N];O=B}}}}else{7&d&&(d+=8-(7&d));const I=4+(d>>>3),L=o[I-4]|o[I-3]<<8;g&&(s=a.H.W(s,O+L)),s.set(new l(o.buffer,o.byteOffset+I,L),O),d=I+L<<3,O+=L}return s.length==O?s:s.slice(0,O)},a.H.W=function(o,s){const l=o.length;if(s<=l)return o;const w=new Uint8Array(l<<1);return w.set(o,0),w},a.H.R=function(o,s,l,w,E,C){const y=a.H.e,_=a.H.Z;let U=0;for(;U<l;){const S=o[_(w,E)&s];E+=15&S;const k=S>>>4;if(k<=15)C[U]=k,U++;else{let u=0,O=0;k==16?(O=3+y(w,E,2),E+=2,u=C[U-1]):k==17?(O=3+y(w,E,3),E+=3):k==18&&(O=11+y(w,E,7),E+=7);const d=U+O;for(;U<d;)C[U]=u,U++}}return E},a.H.V=function(o,s,l,w){let E=0,C=0;const y=w.length>>>1;for(;C<l;){const _=o[C+s];w[C<<1]=0,w[1+(C<<1)]=_,_>E&&(E=_),C++}for(;C<y;)w[C<<1]=0,w[1+(C<<1)]=0,C++;return E},a.H.n=function(o,s){const l=a.H.m,w=o.length;let E,C,y,_;const U=l.j;for(var S=0;S<=s;S++)U[S]=0;for(S=1;S<w;S+=2)U[o[S]]++;const k=l.K;for(E=0,U[0]=0,C=1;C<=s;C++)E=E+U[C-1]<<1,k[C]=E;for(y=0;y<w;y+=2)_=o[y+1],_!=0&&(o[y]=k[_],k[_]++)},a.H.A=function(o,s,l){const w=o.length,E=a.H.m.r;for(let C=0;C<w;C+=2)if(o[C+1]!=0){const y=C>>1,_=o[C+1],U=y<<4|_,S=s-_;let k=o[C]<<S;const u=k+(1<<S);for(;k!=u;)l[E[k]>>>15-s]=U,k++}},a.H.l=function(o,s){const l=a.H.m.r,w=15-s;for(let E=0;E<o.length;E+=2){const C=o[E]<<s-o[E+1];o[E]=l[C]>>>w}},a.H.M=function(o,s,l){l<<=7&s;const w=s>>>3;o[w]|=l,o[w+1]|=l>>>8},a.H.I=function(o,s,l){l<<=7&s;const w=s>>>3;o[w]|=l,o[w+1]|=l>>>8,o[w+2]|=l>>>16},a.H.e=function(o,s,l){return(o[s>>>3]|o[1+(s>>>3)]<<8)>>>(7&s)&(1<<l)-1},a.H.b=function(o,s,l){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)&(1<<l)-1},a.H.Z=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)},a.H.i=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16|o[3+(s>>>3)]<<24)>>>(7&s)},a.H.m=function(){const o=Uint16Array,s=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new s(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new s(286),Y:new s(30),a:new s(19),t:new s(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=a.H.m;for(var s=0;s<32768;s++){let w=s;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,o.r[s]=(w>>>16|w<<16)>>>17}function l(w,E,C){for(;E--!=0;)w.push(0,C)}for(s=0;s<32;s++)o.q[s]=o.S[s]<<3|o.T[s],o.c[s]=o.p[s]<<4|o.z[s];l(o._,144,8),l(o._,112,9),l(o._,24,7),l(o._,8,8),a.H.n(o._,9),a.H.A(o._,9,o.J),a.H.l(o._,9),l(o.$,32,5),a.H.n(o.$,5),a.H.A(o.$,5,o.h),a.H.l(o.$,5),l(o.Q,19,0),l(o.C,286,0),l(o.D,30,0),l(o.v,320,0)}(),a.H.N}();function e(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function h(a,o,s,l,w){let E=e(o);const C=Math.ceil(l*E/8);let y,_;E=Math.ceil(E/8);let U=a[s],S=0;if(U>1&&(a[s]=[0,0,1][U-2]),U==3)for(S=E;S<C;S++)a[S+1]=a[S+1]+(a[S+1-E]>>>1)&255;for(let k=0;k<w;k++)if(y=s+k*C,_=y+k+1,U=a[_-1],S=0,U==0)for(;S<C;S++)a[y+S]=a[_+S];else if(U==1){for(;S<E;S++)a[y+S]=a[_+S];for(;S<C;S++)a[y+S]=a[_+S]+a[y+S-E]}else if(U==2)for(;S<C;S++)a[y+S]=a[_+S]+a[y+S-C];else if(U==3){for(;S<E;S++)a[y+S]=a[_+S]+(a[y+S-C]>>>1);for(;S<C;S++)a[y+S]=a[_+S]+(a[y+S-C]+a[y+S-E]>>>1)}else{for(;S<E;S++)a[y+S]=a[_+S]+c(0,a[y+S-C],0);for(;S<C;S++)a[y+S]=a[_+S]+c(a[y+S-E],a[y+S-C],a[y+S-E-C])}return a}function c(a,o,s){const l=a+o-s,w=l-a,E=l-o,C=l-s;return w*w<=E*E&&w*w<=C*C?a:E*E<=C*C?o:s}function m(a,o,s){s.width=f.readUint(a,o),o+=4,s.height=f.readUint(a,o),o+=4,s.depth=a[o],o++,s.ctype=a[o],o++,s.compress=a[o],o++,s.filter=a[o],o++,s.interlace=a[o],o++}function v(a,o,s,l,w,E,C,y,_){const U=Math.min(o,w),S=Math.min(s,E);let k=0,u=0;for(let R=0;R<S;R++)for(let b=0;b<U;b++)if(C>=0&&y>=0?(k=R*o+b<<2,u=(y+R)*w+C+b<<2):(k=(-y+R)*o-C+b<<2,u=R*w+b<<2),_==0)l[u]=a[k],l[u+1]=a[k+1],l[u+2]=a[k+2],l[u+3]=a[k+3];else if(_==1){var O=a[k+3]*.00392156862745098,d=a[k]*O,p=a[k+1]*O,x=a[k+2]*O,M=l[u+3]*(1/255),D=l[u]*M,T=l[u+1]*M,A=l[u+2]*M;const g=1-O,P=O+M*g,I=P==0?0:1/P;l[u+3]=255*P,l[u+0]=(d+D*g)*I,l[u+1]=(p+T*g)*I,l[u+2]=(x+A*g)*I}else if(_==2)O=a[k+3],d=a[k],p=a[k+1],x=a[k+2],M=l[u+3],D=l[u],T=l[u+1],A=l[u+2],O==M&&d==D&&p==T&&x==A?(l[u]=0,l[u+1]=0,l[u+2]=0,l[u+3]=0):(l[u]=d,l[u+1]=p,l[u+2]=x,l[u+3]=O);else if(_==3){if(O=a[k+3],d=a[k],p=a[k+1],x=a[k+2],M=l[u+3],D=l[u],T=l[u+1],A=l[u+2],O==M&&d==D&&p==T&&x==A)continue;if(O<220&&M>20)return!1}return!0}return{decode:function(o){const s=new Uint8Array(o);let l=8;const w=f,E=w.readUshort,C=w.readUint,y={tabs:{},frames:[]},_=new Uint8Array(s.length);let U,S=0,k=0;const u=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(s[O]!=u[O])throw"The input is not a PNG file!";for(;l<s.length;){const R=w.readUint(s,l);l+=4;const b=w.readASCII(s,l,4);if(l+=4,b=="IHDR")m(s,l,y);else if(b=="iCCP"){for(var d=l;s[d]!=0;)d++;w.readASCII(s,l,d-l),s[d+1];const g=s.slice(d+2,l+R);let P=null;try{P=t(g)}catch{P=r(g)}y.tabs[b]=P}else if(b=="CgBI")y.tabs[b]=s.slice(l,l+4);else if(b=="IDAT"){for(O=0;O<R;O++)_[S+O]=s[l+O];S+=R}else if(b=="acTL")y.tabs[b]={num_frames:C(s,l),num_plays:C(s,l+4)},U=new Uint8Array(s.length);else if(b=="fcTL"){k!=0&&((A=y.frames[y.frames.length-1]).data=n(y,U.slice(0,k),A.rect.width,A.rect.height),k=0);const g={x:C(s,l+12),y:C(s,l+16),width:C(s,l+4),height:C(s,l+8)};let P=E(s,l+22);P=E(s,l+20)/(P==0?100:P);const I={rect:g,delay:Math.round(1e3*P),dispose:s[l+24],blend:s[l+25]};y.frames.push(I)}else if(b=="fdAT"){for(O=0;O<R-4;O++)U[k+O]=s[l+O+4];k+=R-4}else if(b=="pHYs")y.tabs[b]=[w.readUint(s,l),w.readUint(s,l+4),s[l+8]];else if(b=="cHRM")for(y.tabs[b]=[],O=0;O<8;O++)y.tabs[b].push(w.readUint(s,l+4*O));else if(b=="tEXt"||b=="zTXt"){y.tabs[b]==null&&(y.tabs[b]={});var p=w.nextZero(s,l),x=w.readASCII(s,l,p-l),M=l+R-p-1;if(b=="tEXt")T=w.readASCII(s,p+1,M);else{var D=t(s.slice(p+2,p+2+M));T=w.readUTF8(D,0,D.length)}y.tabs[b][x]=T}else if(b=="iTXt"){y.tabs[b]==null&&(y.tabs[b]={}),p=0,d=l,p=w.nextZero(s,d),x=w.readASCII(s,d,p-d);const g=s[d=p+1];var T;s[d+1],d+=2,p=w.nextZero(s,d),w.readASCII(s,d,p-d),d=p+1,p=w.nextZero(s,d),w.readUTF8(s,d,p-d),M=R-((d=p+1)-l),g==0?T=w.readUTF8(s,d,M):(D=t(s.slice(d,d+M)),T=w.readUTF8(D,0,D.length)),y.tabs[b][x]=T}else if(b=="PLTE")y.tabs[b]=w.readBytes(s,l,R);else if(b=="hIST"){const g=y.tabs.PLTE.length/3;for(y.tabs[b]=[],O=0;O<g;O++)y.tabs[b].push(E(s,l+2*O))}else if(b=="tRNS")y.ctype==3?y.tabs[b]=w.readBytes(s,l,R):y.ctype==0?y.tabs[b]=E(s,l):y.ctype==2&&(y.tabs[b]=[E(s,l),E(s,l+2),E(s,l+4)]);else if(b=="gAMA")y.tabs[b]=w.readUint(s,l)/1e5;else if(b=="sRGB")y.tabs[b]=s[l];else if(b=="bKGD")y.ctype==0||y.ctype==4?y.tabs[b]=[E(s,l)]:y.ctype==2||y.ctype==6?y.tabs[b]=[E(s,l),E(s,l+2),E(s,l+4)]:y.ctype==3&&(y.tabs[b]=s[l]);else if(b=="IEND")break;l+=R,w.readUint(s,l),l+=4}var A;return k!=0&&((A=y.frames[y.frames.length-1]).data=n(y,U.slice(0,k),A.rect.width,A.rect.height)),y.data=n(y,_,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(o){const s=o.width,l=o.height;if(o.tabs.acTL==null)return[i(o.data,s,l,o).buffer];const w=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const E=s*l*4,C=new Uint8Array(E),y=new Uint8Array(E),_=new Uint8Array(E);for(let S=0;S<o.frames.length;S++){const k=o.frames[S],u=k.rect.x,O=k.rect.y,d=k.rect.width,p=k.rect.height,x=i(k.data,d,p,o);if(S!=0)for(var U=0;U<E;U++)_[U]=C[U];if(k.blend==0?v(x,d,p,C,s,l,u,O,0):k.blend==1&&v(x,d,p,C,s,l,u,O,1),w.push(C.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)v(y,d,p,C,s,l,u,O,0);else if(k.dispose==2)for(U=0;U<E;U++)C[U]=_[U]}}return w},_paeth:c,_copyTile:v,_bin:f}}();(function(){const{_copyTile:f}=Et,{_bin:i}=Et,n=Et._paeth;var t={table:function(){const d=new Uint32Array(256);for(let p=0;p<256;p++){let x=p;for(let M=0;M<8;M++)1&x?x=3988292384^x>>>1:x>>>=1;d[p]=x}return d}(),update(d,p,x,M){for(let D=0;D<M;D++)d=t.table[255&(d^p[x+D])]^d>>>8;return d},crc:(d,p,x)=>4294967295^t.update(4294967295,d,p,x)};function r(d,p,x,M){p[x]+=d[0]*M>>4,p[x+1]+=d[1]*M>>4,p[x+2]+=d[2]*M>>4,p[x+3]+=d[3]*M>>4}function e(d){return Math.max(0,Math.min(255,d))}function h(d,p){const x=d[0]-p[0],M=d[1]-p[1],D=d[2]-p[2],T=d[3]-p[3];return x*x+M*M+D*D+T*T}function c(d,p,x,M,D,T,A){A==null&&(A=1);const R=M.length,b=[];for(var g=0;g<R;g++){const N=M[g];b.push([N>>>0&255,N>>>8&255,N>>>16&255,N>>>24&255])}for(g=0;g<R;g++){let N=4294967295;for(var P=0,I=0;I<R;I++){var L=h(b[g],b[I]);I!=g&&L<N&&(N=L,P=I)}}const B=new Uint32Array(D.buffer),H=new Int16Array(p*x*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(g=0;g<z.length;g++)z[g]=255*((z[g]+.5)/16-.5);for(let N=0;N<x;N++)for(let j=0;j<p;j++){var F;g=4*(N*p+j),A!=2?F=[e(d[g]+H[g]),e(d[g+1]+H[g+1]),e(d[g+2]+H[g+2]),e(d[g+3]+H[g+3])]:(L=z[4*(3&N)+(3&j)],F=[e(d[g]+L),e(d[g+1]+L),e(d[g+2]+L),e(d[g+3]+L)]),P=0;let q=16777215;for(I=0;I<R;I++){const G=h(F,b[I]);G<q&&(q=G,P=I)}const X=b[P],Y=[F[0]-X[0],F[1]-X[1],F[2]-X[2],F[3]-X[3]];A==1&&(j!=p-1&&r(Y,H,g+4,7),N!=x-1&&(j!=0&&r(Y,H,g+4*p-4,3),r(Y,H,g+4*p,5),j!=p-1&&r(Y,H,g+4*p+4,1))),T[g>>2]=P,B[g>>2]=M[P]}}function m(d,p,x,M,D){D==null&&(D={});const{crc:T}=t,A=i.writeUint,R=i.writeUshort,b=i.writeASCII;let g=8;const P=d.frames.length>1;let I,L=!1,B=33+(P?20:0);if(D.sRGB!=null&&(B+=13),D.pHYs!=null&&(B+=21),D.iCCP!=null&&(I=pako.deflate(D.iCCP),B+=21+I.length+4),d.ctype==3){for(var H=d.plte.length,z=0;z<H;z++)d.plte[z]>>>24!=255&&(L=!0);B+=8+3*H+4+(L?8+1*H+4:0)}for(var F=0;F<d.frames.length;F++)P&&(B+=38),B+=(X=d.frames[F]).cimg.length+12,F!=0&&(B+=4);B+=12;const N=new Uint8Array(B),j=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)N[z]=j[z];if(A(N,g,13),g+=4,b(N,g,"IHDR"),g+=4,A(N,g,p),g+=4,A(N,g,x),g+=4,N[g]=d.depth,g++,N[g]=d.ctype,g++,N[g]=0,g++,N[g]=0,g++,N[g]=0,g++,A(N,g,T(N,g-17,17)),g+=4,D.sRGB!=null&&(A(N,g,1),g+=4,b(N,g,"sRGB"),g+=4,N[g]=D.sRGB,g++,A(N,g,T(N,g-5,5)),g+=4),D.iCCP!=null){const Y=13+I.length;A(N,g,Y),g+=4,b(N,g,"iCCP"),g+=4,b(N,g,"ICC profile"),g+=11,g+=2,N.set(I,g),g+=I.length,A(N,g,T(N,g-(Y+4),Y+4)),g+=4}if(D.pHYs!=null&&(A(N,g,9),g+=4,b(N,g,"pHYs"),g+=4,A(N,g,D.pHYs[0]),g+=4,A(N,g,D.pHYs[1]),g+=4,N[g]=D.pHYs[2],g++,A(N,g,T(N,g-13,13)),g+=4),P&&(A(N,g,8),g+=4,b(N,g,"acTL"),g+=4,A(N,g,d.frames.length),g+=4,A(N,g,D.loop!=null?D.loop:0),g+=4,A(N,g,T(N,g-12,12)),g+=4),d.ctype==3){for(A(N,g,3*(H=d.plte.length)),g+=4,b(N,g,"PLTE"),g+=4,z=0;z<H;z++){const Y=3*z,G=d.plte[z],et=255&G,at=G>>>8&255,Pt=G>>>16&255;N[g+Y+0]=et,N[g+Y+1]=at,N[g+Y+2]=Pt}if(g+=3*H,A(N,g,T(N,g-3*H-4,3*H+4)),g+=4,L){for(A(N,g,H),g+=4,b(N,g,"tRNS"),g+=4,z=0;z<H;z++)N[g+z]=d.plte[z]>>>24&255;g+=H,A(N,g,T(N,g-H-4,H+4)),g+=4}}let q=0;for(F=0;F<d.frames.length;F++){var X=d.frames[F];P&&(A(N,g,26),g+=4,b(N,g,"fcTL"),g+=4,A(N,g,q++),g+=4,A(N,g,X.rect.width),g+=4,A(N,g,X.rect.height),g+=4,A(N,g,X.rect.x),g+=4,A(N,g,X.rect.y),g+=4,R(N,g,M[F]),g+=2,R(N,g,1e3),g+=2,N[g]=X.dispose,g++,N[g]=X.blend,g++,A(N,g,T(N,g-30,30)),g+=4);const Y=X.cimg;A(N,g,(H=Y.length)+(F==0?0:4)),g+=4;const G=g;b(N,g,F==0?"IDAT":"fdAT"),g+=4,F!=0&&(A(N,g,q++),g+=4),N.set(Y,g),g+=H,A(N,g,T(N,G,g-G)),g+=4}return A(N,g,0),g+=4,b(N,g,"IEND"),g+=4,A(N,g,T(N,g-4,4)),g+=4,N.buffer}function v(d,p,x){for(let M=0;M<d.frames.length;M++){const D=d.frames[M];D.rect.width;const T=D.rect.height,A=new Uint8Array(T*D.bpl+T);D.cimg=l(D.img,T,D.bpp,D.bpl,A,p,x)}}function a(d,p,x,M,D){const T=D[0],A=D[1],R=D[2],b=D[3],g=D[4],P=D[5];let I=6,L=8,B=255;for(var H=0;H<d.length;H++){const ht=new Uint8Array(d[H]);for(var z=ht.length,F=0;F<z;F+=4)B&=ht[F+3]}const N=B!=255,j=function(Z,Q,st,lt,rt,vt){const it=[];for(var V=0;V<Z.length;V++){const ut=new Uint8Array(Z[V]),xt=new Uint32Array(ut.buffer);var bt;let wt=0,Rt=0,Mt=Q,Ft=st,ye=lt?1:0;if(V!=0){const kr=vt||lt||V==1||it[V-2].dispose!=0?1:2;let xe=0,We=1e9;for(let Jt=0;Jt<kr;Jt++){var St=new Uint8Array(Z[V-1-Jt]);const Pr=new Uint32Array(Z[V-1-Jt]);let It=Q,Ut=st,$t=-1,te=-1;for(let Ht=0;Ht<st;Ht++)for(let zt=0;zt<Q;zt++)xt[ct=Ht*Q+zt]!=Pr[ct]&&(zt<It&&(It=zt),zt>$t&&($t=zt),Ht<Ut&&(Ut=Ht),Ht>te&&(te=Ht));$t==-1&&(It=Ut=$t=te=0),rt&&((1&It)==1&&It--,(1&Ut)==1&&Ut--);const Ye=($t-It+1)*(te-Ut+1);Ye<We&&(We=Ye,xe=Jt,wt=It,Rt=Ut,Mt=$t-It+1,Ft=te-Ut+1)}St=new Uint8Array(Z[V-1-xe]),xe==1&&(it[V-1].dispose=2),bt=new Uint8Array(Mt*Ft*4),f(St,Q,st,bt,Mt,Ft,-wt,-Rt,0),ye=f(ut,Q,st,bt,Mt,Ft,-wt,-Rt,3)?1:0,ye==1?s(ut,Q,st,bt,{x:wt,y:Rt,width:Mt,height:Ft}):f(ut,Q,st,bt,Mt,Ft,-wt,-Rt,0)}else bt=ut.slice(0);it.push({rect:{x:wt,y:Rt,width:Mt,height:Ft},img:bt,blend:ye,dispose:0})}if(lt)for(V=0;V<it.length;V++){if((Lt=it[V]).blend==1)continue;const ut=Lt.rect,xt=it[V-1].rect,wt=Math.min(ut.x,xt.x),Rt=Math.min(ut.y,xt.y),Mt={x:wt,y:Rt,width:Math.max(ut.x+ut.width,xt.x+xt.width)-wt,height:Math.max(ut.y+ut.height,xt.y+xt.height)-Rt};it[V-1].dispose=1,V-1!=0&&o(Z,Q,st,it,V-1,Mt,rt),o(Z,Q,st,it,V,Mt,rt)}let he=0;if(Z.length!=1)for(var ct=0;ct<it.length;ct++){var Lt;he+=(Lt=it[ct]).rect.width*Lt.rect.height}return it}(d,p,x,T,A,R),q={},X=[],Y=[];if(M!=0){const ht=[];for(F=0;F<j.length;F++)ht.push(j[F].img.buffer);const Z=function(rt){let vt=0;for(var it=0;it<rt.length;it++)vt+=rt[it].byteLength;const V=new Uint8Array(vt);let bt=0;for(it=0;it<rt.length;it++){const St=new Uint8Array(rt[it]),he=St.length;for(let ct=0;ct<he;ct+=4){let Lt=St[ct],ut=St[ct+1],xt=St[ct+2];const wt=St[ct+3];wt==0&&(Lt=ut=xt=0),V[bt+ct]=Lt,V[bt+ct+1]=ut,V[bt+ct+2]=xt,V[bt+ct+3]=wt}bt+=he}return V.buffer}(ht),Q=E(Z,M);for(F=0;F<Q.plte.length;F++)X.push(Q.plte[F].est.rgba);let st=0;for(F=0;F<j.length;F++){const lt=(et=j[F]).img.length;var G=new Uint8Array(Q.inds.buffer,st>>2,lt>>2);Y.push(G);const rt=new Uint8Array(Q.abuf,st,lt);P&&c(et.img,et.rect.width,et.rect.height,X,rt,G),et.img.set(rt),st+=lt}}else for(H=0;H<j.length;H++){var et=j[H];const ht=new Uint32Array(et.img.buffer);var at=et.rect.width;for(z=ht.length,G=new Uint8Array(z),Y.push(G),F=0;F<z;F++){const Z=ht[F];if(F!=0&&Z==ht[F-1])G[F]=G[F-1];else if(F>at&&Z==ht[F-at])G[F]=G[F-at];else{let Q=q[Z];if(Q==null&&(q[Z]=Q=X.length,X.push(Z),X.length>=300))break;G[F]=Q}}}const Pt=X.length;for(Pt<=256&&g==0&&(L=Pt<=2?1:Pt<=4?2:Pt<=16?4:8,L=Math.max(L,b)),H=0;H<j.length;H++){(et=j[H]).rect.x,et.rect.y,at=et.rect.width;const ht=et.rect.height;let Z=et.img;new Uint32Array(Z.buffer);let Q=4*at,st=4;if(Pt<=256&&g==0){Q=Math.ceil(L*at/8);var Dt=new Uint8Array(Q*ht);const lt=Y[H];for(let rt=0;rt<ht;rt++){F=rt*Q;const vt=rt*at;if(L==8)for(var tt=0;tt<at;tt++)Dt[F+tt]=lt[vt+tt];else if(L==4)for(tt=0;tt<at;tt++)Dt[F+(tt>>1)]|=lt[vt+tt]<<4-4*(1&tt);else if(L==2)for(tt=0;tt<at;tt++)Dt[F+(tt>>2)]|=lt[vt+tt]<<6-2*(3&tt);else if(L==1)for(tt=0;tt<at;tt++)Dt[F+(tt>>3)]|=lt[vt+tt]<<7-1*(7&tt)}Z=Dt,I=3,st=1}else if(N==0&&j.length==1){Dt=new Uint8Array(at*ht*3);const lt=at*ht;for(F=0;F<lt;F++){const rt=3*F,vt=4*F;Dt[rt]=Z[vt],Dt[rt+1]=Z[vt+1],Dt[rt+2]=Z[vt+2]}Z=Dt,I=2,st=3,Q=3*at}et.img=Z,et.bpl=Q,et.bpp=st}return{ctype:I,depth:L,plte:X,frames:j}}function o(d,p,x,M,D,T,A){const R=Uint8Array,b=Uint32Array,g=new R(d[D-1]),P=new b(d[D-1]),I=D+1<d.length?new R(d[D+1]):null,L=new R(d[D]),B=new b(L.buffer);let H=p,z=x,F=-1,N=-1;for(let q=0;q<T.height;q++)for(let X=0;X<T.width;X++){const Y=T.x+X,G=T.y+q,et=G*p+Y,at=B[et];at==0||M[D-1].dispose==0&&P[et]==at&&(I==null||I[4*et+3]!=0)||(Y<H&&(H=Y),Y>F&&(F=Y),G<z&&(z=G),G>N&&(N=G))}F==-1&&(H=z=F=N=0),A&&((1&H)==1&&H--,(1&z)==1&&z--),T={x:H,y:z,width:F-H+1,height:N-z+1};const j=M[D];j.rect=T,j.blend=1,j.img=new Uint8Array(T.width*T.height*4),M[D-1].dispose==0?(f(g,p,x,j.img,T.width,T.height,-T.x,-T.y,0),s(L,p,x,j.img,T)):f(L,p,x,j.img,T.width,T.height,-T.x,-T.y,0)}function s(d,p,x,M,D){f(d,p,x,M,D.width,D.height,-D.x,-D.y,2)}function l(d,p,x,M,D,T,A){const R=[];let b,g=[0,1,2,3,4];T!=-1?g=[T]:(p*M>5e5||x==1)&&(g=[0]),A&&(b={level:0});const P=jr;for(var I=0;I<g.length;I++){for(let H=0;H<p;H++)w(D,d,H,M,x,g[I]);R.push(P.deflate(D,b))}let L,B=1e9;for(I=0;I<R.length;I++)R[I].length<B&&(L=I,B=R[I].length);return R[L]}function w(d,p,x,M,D,T){const A=x*M;let R=A+x;if(d[R]=T,R++,T==0)if(M<500)for(var b=0;b<M;b++)d[R+b]=p[A+b];else d.set(new Uint8Array(p.buffer,A,M),R);else if(T==1){for(b=0;b<D;b++)d[R+b]=p[A+b];for(b=D;b<M;b++)d[R+b]=p[A+b]-p[A+b-D]+256&255}else if(x==0){for(b=0;b<D;b++)d[R+b]=p[A+b];if(T==2)for(b=D;b<M;b++)d[R+b]=p[A+b];if(T==3)for(b=D;b<M;b++)d[R+b]=p[A+b]-(p[A+b-D]>>1)+256&255;if(T==4)for(b=D;b<M;b++)d[R+b]=p[A+b]-n(p[A+b-D],0,0)+256&255}else{if(T==2)for(b=0;b<M;b++)d[R+b]=p[A+b]+256-p[A+b-M]&255;if(T==3){for(b=0;b<D;b++)d[R+b]=p[A+b]+256-(p[A+b-M]>>1)&255;for(b=D;b<M;b++)d[R+b]=p[A+b]+256-(p[A+b-M]+p[A+b-D]>>1)&255}if(T==4){for(b=0;b<D;b++)d[R+b]=p[A+b]+256-n(0,p[A+b-M],0)&255;for(b=D;b<M;b++)d[R+b]=p[A+b]+256-n(p[A+b-D],p[A+b-M],p[A+b-D-M])&255}}}function E(d,p){const x=new Uint8Array(d),M=x.slice(0),D=new Uint32Array(M.buffer),T=C(M,p),A=T[0],R=T[1],b=x.length,g=new Uint8Array(b>>2);let P;if(x.length<2e7)for(var I=0;I<b;I+=4)P=y(A,L=x[I]*(1/255),B=x[I+1]*(1/255),H=x[I+2]*(1/255),z=x[I+3]*(1/255)),g[I>>2]=P.ind,D[I>>2]=P.est.rgba;else for(I=0;I<b;I+=4){var L=x[I]*.00392156862745098,B=x[I+1]*(1/255),H=x[I+2]*(1/255),z=x[I+3]*(1/255);for(P=A;P.left;)P=_(P.est,L,B,H,z)<=0?P.left:P.right;g[I>>2]=P.ind,D[I>>2]=P.est.rgba}return{abuf:M.buffer,inds:g,plte:R}}function C(d,p,x){x==null&&(x=1e-4);const M=new Uint32Array(d.buffer),D={i0:0,i1:d.length,bst:null,est:null,tdst:0,left:null,right:null};D.bst=k(d,D.i0,D.i1),D.est=u(D.bst);const T=[D];for(;T.length<p;){let R=0,b=0;for(var A=0;A<T.length;A++)T[A].est.L>R&&(R=T[A].est.L,b=A);if(R<x)break;const g=T[b],P=U(d,M,g.i0,g.i1,g.est.e,g.est.eMq255);if(g.i0>=P||g.i1<=P){g.est.L=0;continue}const I={i0:g.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};I.bst=k(d,I.i0,I.i1),I.est=u(I.bst);const L={i0:P,i1:g.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:g.bst.N-I.bst.N},A=0;A<16;A++)L.bst.R[A]=g.bst.R[A]-I.bst.R[A];for(A=0;A<4;A++)L.bst.m[A]=g.bst.m[A]-I.bst.m[A];L.est=u(L.bst),g.left=I,g.right=L,T[b]=I,T.push(L)}for(T.sort((R,b)=>b.bst.N-R.bst.N),A=0;A<T.length;A++)T[A].ind=A;return[D,T]}function y(d,p,x,M,D){if(d.left==null)return d.tdst=function(I,L,B,H,z){const F=L-I[0],N=B-I[1],j=H-I[2],q=z-I[3];return F*F+N*N+j*j+q*q}(d.est.q,p,x,M,D),d;const T=_(d.est,p,x,M,D);let A=d.left,R=d.right;T>0&&(A=d.right,R=d.left);const b=y(A,p,x,M,D);if(b.tdst<=T*T)return b;const g=y(R,p,x,M,D);return g.tdst<b.tdst?g:b}function _(d,p,x,M,D){const{e:T}=d;return T[0]*p+T[1]*x+T[2]*M+T[3]*D-d.eMq}function U(d,p,x,M,D,T){for(M-=4;x<M;){for(;S(d,x,D)<=T;)x+=4;for(;S(d,M,D)>T;)M-=4;if(x>=M)break;const A=p[x>>2];p[x>>2]=p[M>>2],p[M>>2]=A,x+=4,M-=4}for(;S(d,x,D)>T;)x-=4;return x+4}function S(d,p,x){return d[p]*x[0]+d[p+1]*x[1]+d[p+2]*x[2]+d[p+3]*x[3]}function k(d,p,x){const M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,0,0,0],T=x-p>>2;for(let A=p;A<x;A+=4){const R=d[A]*.00392156862745098,b=d[A+1]*(1/255),g=d[A+2]*(1/255),P=d[A+3]*(1/255);D[0]+=R,D[1]+=b,D[2]+=g,D[3]+=P,M[0]+=R*R,M[1]+=R*b,M[2]+=R*g,M[3]+=R*P,M[5]+=b*b,M[6]+=b*g,M[7]+=b*P,M[10]+=g*g,M[11]+=g*P,M[15]+=P*P}return M[4]=M[1],M[8]=M[2],M[9]=M[6],M[12]=M[3],M[13]=M[7],M[14]=M[11],{R:M,m:D,N:T}}function u(d){const{R:p}=d,{m:x}=d,{N:M}=d,D=x[0],T=x[1],A=x[2],R=x[3],b=M==0?0:1/M,g=[p[0]-D*D*b,p[1]-D*T*b,p[2]-D*A*b,p[3]-D*R*b,p[4]-T*D*b,p[5]-T*T*b,p[6]-T*A*b,p[7]-T*R*b,p[8]-A*D*b,p[9]-A*T*b,p[10]-A*A*b,p[11]-A*R*b,p[12]-R*D*b,p[13]-R*T*b,p[14]-R*A*b,p[15]-R*R*b],P=g,I=O;let L=[Math.random(),Math.random(),Math.random(),Math.random()],B=0,H=0;if(M!=0)for(let F=0;F<16&&(L=I.multVec(P,L),H=Math.sqrt(I.dot(L,L)),L=I.sml(1/H,L),!(F!=0&&Math.abs(H-B)<1e-9));F++)B=H;const z=[D*b,T*b,A*b,R*b];return{Cov:g,q:z,e:L,L:B,eMq255:I.dot(I.sml(255,z),L),eMq:I.dot(L,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var O={multVec:(d,p)=>[d[0]*p[0]+d[1]*p[1]+d[2]*p[2]+d[3]*p[3],d[4]*p[0]+d[5]*p[1]+d[6]*p[2]+d[7]*p[3],d[8]*p[0]+d[9]*p[1]+d[10]*p[2]+d[11]*p[3],d[12]*p[0]+d[13]*p[1]+d[14]*p[2]+d[15]*p[3]],dot:(d,p)=>d[0]*p[0]+d[1]*p[1]+d[2]*p[2]+d[3]*p[3],sml:(d,p)=>[d*p[0],d*p[1],d*p[2],d*p[3]]};Et.encode=function(p,x,M,D,T,A,R){D==null&&(D=0),R==null&&(R=!1);const b=a(p,x,M,D,[!1,!1,!1,0,R,!1]);return v(b,-1),m(b,x,M,T,A)},Et.encodeLL=function(p,x,M,D,T,A,R,b){const g={ctype:0+(D==1?0:2)+(T==0?0:4),depth:A,frames:[]},P=(D+T)*A,I=P*x;for(let L=0;L<p.length;L++)g.frames.push({rect:{x:0,y:0,width:x,height:M},img:new Uint8Array(p[L]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(I/8)});return v(g,0,!0),m(g,x,M,R,b)},Et.encode.compress=a,Et.encode.dither=c,Et.quantize=E,Et.quantize.getKDtree=C,Et.quantize.getNearest=y})();const cr={toArrayBuffer(f,i){const n=f.width,t=f.height,r=n<<2,e=f.getContext("2d").getImageData(0,0,n,t),h=new Uint32Array(e.data.buffer),c=(32*n+31)/32<<2,m=c*t,v=122+m,a=new ArrayBuffer(v),o=new DataView(a),s=1<<20;let l,w,E,C,y=s,_=0,U=0,S=0;function k(d){o.setUint16(U,d,!0),U+=2}function u(d){o.setUint32(U,d,!0),U+=4}function O(d){U+=d}k(19778),u(v),O(4),u(122),u(108),u(n),u(-t>>>0),k(1),k(32),u(3),u(m),u(2835),u(2835),O(8),u(16711680),u(65280),u(255),u(4278190080),u(1466527264),function d(){for(;_<t&&y>0;){for(C=122+_*c,l=0;l<r;)y--,w=h[S++],E=w>>>24,o.setUint32(C+l,w<<8|E),l+=4;_++}S<h.length?(y=s,setTimeout(d,cr._dly)):i(a)}()},toBlob(f,i){this.toArrayBuffer(f,n=>{i(new Blob([n],{type:"image/bmp"}))})},_dly:9};var mt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Wr={[mt.CHROME]:16384,[mt.FIREFOX]:11180,[mt.DESKTOP_SAFARI]:16384,[mt.IE]:8192,[mt.IOS]:4096,[mt.ETC]:8192};const Pe=typeof window<"u",fr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,pe=Pe&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Yr=(Pe||fr)&&(pe&&pe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),lr=(Pe||fr)&&(pe&&pe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Le(f,i,n=Date.now()){return new Promise(t=>{const r=f.split(","),e=r[0].match(/:(.*?);/)[1],h=globalThis.atob(r[1]);let c=h.length;const m=new Uint8Array(c);for(;c--;)m[c]=h.charCodeAt(c);const v=new Blob([m],{type:e});v.name=i,v.lastModified=n,t(v)})}function ur(f){return new Promise((i,n)=>{const t=new lr;t.onload=()=>i(t.result),t.onerror=r=>n(r),t.readAsDataURL(f)})}function dr(f){return new Promise((i,n)=>{const t=new Image;t.onload=()=>i(t),t.onerror=r=>n(r),t.src=f})}function Yt(){if(Yt.cachedResult!==void 0)return Yt.cachedResult;let f=mt.ETC;const{userAgent:i}=navigator;return/Chrom(e|ium)/i.test(i)?f=mt.CHROME:/iP(ad|od|hone)/i.test(i)&&/WebKit/i.test(i)?f=mt.IOS:/Safari/i.test(i)?f=mt.DESKTOP_SAFARI:/Firefox/i.test(i)?f=mt.FIREFOX:(/MSIE/i.test(i)||document.documentMode)&&(f=mt.IE),Yt.cachedResult=f,Yt.cachedResult}function pr(f,i){const n=Yt(),t=Wr[n];let r=f,e=i,h=r*e;const c=r>e?e/r:r/e;for(;h>t*t;){const m=(t+r)/2,v=(t+e)/2;m<v?(e=v,r=v*c):(e=m*c,r=m),h=r*e}return{width:r,height:e}}function be(f,i){let n,t;try{if(n=new OffscreenCanvas(f,i),t=n.getContext("2d"),t===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),t=n.getContext("2d")}return n.width=f,n.height=i,[n,t]}function gr(f,i){const{width:n,height:t}=pr(f.width,f.height),[r,e]=be(n,t);return i&&/jpe?g/.test(i)&&(e.fillStyle="white",e.fillRect(0,0,r.width,r.height)),e.drawImage(f,0,0,r.width,r.height),r}function ue(){return ue.cachedResult!==void 0||(ue.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ue.cachedResult}function ge(f,i={}){return new Promise(function(n,t){let r,e;var h=function(){try{return e=gr(r,i.fileType||f.type),n([r,e])}catch(m){return t(m)}},c=function(m){try{var v=function(a){try{throw a}catch(o){return t(o)}};try{let a;return ur(f).then(function(o){try{return a=o,dr(a).then(function(s){try{return r=s,function(){try{return h()}catch(l){return t(l)}}()}catch(l){return v(l)}},v)}catch(s){return v(s)}},v)}catch(a){v(a)}}catch(a){return t(a)}};try{if(ue()||[mt.DESKTOP_SAFARI,mt.MOBILE_SAFARI].includes(Yt()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(f).then(function(m){try{return r=m,h()}catch{return c()}},c)}catch{c()}})}function me(f,i,n,t,r=1){return new Promise(function(e,h){let c;if(i==="image/png"){let v,a,o;return v=f.getContext("2d"),{data:a}=v.getImageData(0,0,f.width,f.height),o=Et.encode([a.buffer],f.width,f.height,4096*r),c=new Blob([o],{type:i}),c.name=n,c.lastModified=t,m.call(this)}{let v=function(){return m.call(this)};if(i==="image/bmp")return new Promise(a=>cr.toBlob(f,a)).then(function(a){try{return c=a,c.name=n,c.lastModified=t,v.call(this)}catch(o){return h(o)}}.bind(this),h);{let a=function(){return v.call(this)};if(typeof OffscreenCanvas=="function"&&f instanceof OffscreenCanvas)return f.convertToBlob({type:i,quality:r}).then(function(o){try{return c=o,c.name=n,c.lastModified=t,a.call(this)}catch(s){return h(s)}}.bind(this),h);{let o;return o=f.toDataURL(i,r),Le(o,n,t).then(function(s){try{return c=s,a.call(this)}catch(l){return h(l)}}.bind(this),h)}}}function m(){return e(c)}})}function Ct(f){f.width=0,f.height=0}function Qt(){return new Promise(function(f,i){let n,t,r,e;return Qt.cachedResult!==void 0?f(Qt.cachedResult):Le("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(h){try{return n=h,ge(n).then(function(c){try{return t=c[1],me(t,n.type,n.name,n.lastModified).then(function(m){try{return r=m,Ct(t),ge(r).then(function(v){try{return e=v[0],Qt.cachedResult=e.width===1&&e.height===2,f(Qt.cachedResult)}catch(a){return i(a)}},i)}catch(v){return i(v)}},i)}catch(m){return i(m)}},i)}catch(c){return i(c)}},i)})}function mr(f){return new Promise((i,n)=>{const t=new lr;t.onload=r=>{const e=new DataView(r.target.result);if(e.getUint16(0,!1)!=65496)return i(-2);const h=e.byteLength;let c=2;for(;c<h;){if(e.getUint16(c+2,!1)<=8)return i(-1);const m=e.getUint16(c,!1);if(c+=2,m==65505){if(e.getUint32(c+=2,!1)!=1165519206)return i(-1);const v=e.getUint16(c+=6,!1)==18761;c+=e.getUint32(c+4,v);const a=e.getUint16(c,v);c+=2;for(let o=0;o<a;o++)if(e.getUint16(c+12*o,v)==274)return i(e.getUint16(c+12*o+8,v))}else{if((65280&m)!=65280)break;c+=e.getUint16(c,!1)}}return i(-1)},t.onerror=r=>n(r),t.readAsArrayBuffer(f)})}function vr(f,i){const{width:n}=f,{height:t}=f,{maxWidthOrHeight:r}=i;let e,h=f;return isFinite(r)&&(n>r||t>r)&&([h,e]=be(n,t),n>t?(h.width=r,h.height=t/n*r):(h.width=n/t*r,h.height=r),e.drawImage(f,0,0,h.width,h.height),Ct(f)),h}function br(f,i){const{width:n}=f,{height:t}=f,[r,e]=be(n,t);switch(i>4&&i<9?(r.width=t,r.height=n):(r.width=n,r.height=t),i){case 2:e.transform(-1,0,0,1,n,0);break;case 3:e.transform(-1,0,0,-1,n,t);break;case 4:e.transform(1,0,0,-1,0,t);break;case 5:e.transform(0,1,1,0,0,0);break;case 6:e.transform(0,1,-1,0,t,0);break;case 7:e.transform(0,-1,-1,0,t,n);break;case 8:e.transform(0,-1,1,0,0,n)}return e.drawImage(f,0,0,n,t),Ct(f),r}function Xe(f,i,n=0){return new Promise(function(t,r){let e,h,c,m,v,a,o,s,l,w,E,C,y,_,U,S,k,u,O,d;function p(M=5){if(i.signal&&i.signal.aborted)throw i.signal.reason;e+=M,i.onProgress(Math.min(e,100))}function x(M){if(i.signal&&i.signal.aborted)throw i.signal.reason;e=Math.min(Math.max(M,e),100),i.onProgress(e)}return e=n,h=i.maxIteration||10,c=1024*i.maxSizeMB*1024,p(),ge(f,i).then(function(M){try{return[,m]=M,p(),v=vr(m,i),p(),new Promise(function(D,T){var A;if(!(A=i.exifOrientation))return mr(f).then(function(b){try{return A=b,R.call(this)}catch(g){return T(g)}}.bind(this),T);function R(){return D(A)}return R.call(this)}).then(function(D){try{return a=D,p(),Qt().then(function(T){try{return o=T?v:br(v,a),p(),s=i.initialQuality||1,l=i.fileType||f.type,me(o,l,f.name,f.lastModified,s).then(function(A){try{{let b=function(){if(h--&&(U>c||U>y)){let P,I;return P=d?.95*O.width:O.width,I=d?.95*O.height:O.height,[k,u]=be(P,I),u.drawImage(O,0,0,P,I),s*=l==="image/png"?.85:.95,me(k,l,f.name,f.lastModified,s).then(function(L){try{return S=L,Ct(O),O=k,U=S.size,x(Math.min(99,Math.floor((_-U)/(_-c)*100))),b}catch(B){return r(B)}},r)}return[1]},g=function(){return Ct(O),Ct(k),Ct(v),Ct(o),Ct(m),x(100),t(S)};if(w=A,p(),E=w.size>c,C=w.size>f.size,!E&&!C)return x(100),t(w);var R;return y=f.size,_=w.size,U=_,O=o,d=!i.alwaysKeepResolution&&E,(R=function(P){for(;P;){if(P.then)return void P.then(R,r);try{if(P.pop){if(P.length)return P.pop()?g.call(this):P;P=b}else P=P.call(this)}catch(I){return r(I)}}}.bind(this))(b)}}catch(b){return r(b)}}.bind(this),r)}catch(A){return r(A)}}.bind(this),r)}catch(T){return r(T)}}.bind(this),r)}catch(D){return r(D)}}.bind(this),r)})}const Xr=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ae;function $r(f,i){return new Promise((n,t)=>{Ae||(Ae=function(h){const c=[];return c.push(h),URL.createObjectURL(new Blob(c))}(Xr));const r=new Worker(Ae);r.addEventListener("message",function(h){if(i.signal&&i.signal.aborted)r.terminate();else if(h.data.progress===void 0){if(h.data.error)return t(new Error(h.data.error)),void r.terminate();n(h.data.file),r.terminate()}else i.onProgress(h.data.progress)}),r.addEventListener("error",t),i.signal&&i.signal.addEventListener("abort",()=>{t(i.signal.reason),r.terminate()}),r.postMessage({file:f,imageCompressionLibUrl:i.libURL,options:{...i,onProgress:void 0,signal:void 0}})})}function ft(f,i){return new Promise(function(n,t){let r,e,h,c,m,v;if(r={...i},h=0,{onProgress:c}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=l=>{h=l,typeof c=="function"&&c(h)},!(f instanceof Blob||f instanceof Yr))return t(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(f.type))return t(new Error("The file given is not an image"));if(v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||v)return Xe(f,r).then(function(l){try{return e=l,s.call(this)}catch(w){return t(w)}}.bind(this),t);var a=function(){try{return s.call(this)}catch(l){return t(l)}}.bind(this),o=function(l){try{return Xe(f,r).then(function(w){try{return e=w,a()}catch(E){return t(E)}},t)}catch(w){return t(w)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",$r(f,r).then(function(l){try{return e=l,a()}catch{return o()}},o)}catch{o()}function s(){try{e.name=f.name,e.lastModified=f.lastModified}catch{}try{r.preserveExif&&f.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===f.type)&&(e=hr(f,e))}catch{}return n(e)}})}ft.getDataUrlFromFile=ur,ft.getFilefromDataUrl=Le,ft.loadImage=dr,ft.drawImageInCanvas=gr,ft.drawFileInCanvas=ge,ft.canvasToFile=me,ft.getExifOrientation=mr,ft.handleMaxWidthOrHeight=vr,ft.followExifOrientation=br,ft.cleanupCanvasMemory=Ct,ft.isAutoOrientationInBrowser=Qt,ft.approximateBelowMaximumCanvasSizeOfBrowser=pr,ft.copyExifWithoutOrientation=hr,ft.getBrowserName=Yt,ft.version="2.0.2";/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function $e(f,i){var n=Object.keys(f);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(f);i&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(f,r).enumerable})),n.push.apply(n,t)}return n}function wr(f){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?$e(Object(n),!0).forEach(function(t){qr(f,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach(function(t){Object.defineProperty(f,t,Object.getOwnPropertyDescriptor(n,t))})}return f}function Gr(f,i){if(typeof f!="object"||!f)return f;var n=f[Symbol.toPrimitive];if(n!==void 0){var t=n.call(f,i||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(f)}function yr(f){var i=Gr(f,"string");return typeof i=="symbol"?i:i+""}function Ce(f){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ce(f)}function Qr(f,i){if(!(f instanceof i))throw new TypeError("Cannot call a class as a function")}function Ge(f,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(f,yr(t.key),t)}}function Vr(f,i,n){return Ge(f.prototype,i),Ge(f,n),Object.defineProperty(f,"prototype",{writable:!1}),f}function qr(f,i,n){return i=yr(i),i in f?Object.defineProperty(f,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):f[i]=n,f}function xr(f){return Zr(f)||Kr(f)||Jr(f)||ti()}function Zr(f){if(Array.isArray(f))return Te(f)}function Kr(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function Jr(f,i){if(f){if(typeof f=="string")return Te(f,i);var n=Object.prototype.toString.call(f).slice(8,-1);if(n==="Object"&&f.constructor&&(n=f.constructor.name),n==="Map"||n==="Set")return Array.from(f);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(f,i)}}function Te(f,i){(i==null||i>f.length)&&(i=f.length);for(var n=0,t=new Array(i);n<i;n++)t[n]=f[n];return t}function ti(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we=typeof window<"u"&&typeof window.document<"u",Ot=we?window:{},Fe=we&&Ot.document.documentElement?"ontouchstart"in Ot.document.documentElement:!1,He=we?"PointerEvent"in Ot:!1,K="cropper",ze="all",Ar="crop",Er="move",Dr="zoom",Bt="e",jt="w",Gt="s",Nt="n",ee="ne",re="nw",ie="se",ne="sw",Oe="".concat(K,"-crop"),Qe="".concat(K,"-disabled"),gt="".concat(K,"-hidden"),Ve="".concat(K,"-hide"),ei="".concat(K,"-invisible"),ve="".concat(K,"-modal"),Re="".concat(K,"-move"),oe="".concat(K,"Action"),fe="".concat(K,"Preview"),Be="crop",Mr="move",Cr="none",Se="crop",Ie="cropend",Ue="cropmove",Ne="cropstart",qe="dblclick",ri=Fe?"touchstart":"mousedown",ii=Fe?"touchmove":"mousemove",ni=Fe?"touchend touchcancel":"mouseup",Ze=He?"pointerdown":ri,Ke=He?"pointermove":ii,Je=He?"pointerup pointercancel":ni,tr="ready",er="resize",rr="wheel",_e="zoom",ir="image/jpeg",ai=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,oi=/^data:/,si=/^data:image\/jpeg;base64,/,hi=/^img|canvas$/i,Tr=200,Or=100,nr={viewMode:0,dragMode:Be,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Tr,minContainerHeight:Or,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ci='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',fi=Number.isNaN||Ot.isNaN;function W(f){return typeof f=="number"&&!fi(f)}var ar=function(i){return i>0&&i<1/0};function Ee(f){return typeof f>"u"}function Xt(f){return Ce(f)==="object"&&f!==null}var li=Object.prototype.hasOwnProperty;function Vt(f){if(!Xt(f))return!1;try{var i=f.constructor,n=i.prototype;return i&&n&&li.call(n,"isPrototypeOf")}catch{return!1}}function pt(f){return typeof f=="function"}var ui=Array.prototype.slice;function Rr(f){return Array.from?Array.from(f):ui.call(f)}function nt(f,i){return f&&pt(i)&&(Array.isArray(f)||W(f.length)?Rr(f).forEach(function(n,t){i.call(f,n,t,f)}):Xt(f)&&Object.keys(f).forEach(function(n){i.call(f,f[n],n,f)})),f}var J=Object.assign||function(i){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return Xt(i)&&t.length>0&&t.forEach(function(e){Xt(e)&&Object.keys(e).forEach(function(h){i[h]=e[h]})}),i},di=/\.\d*(?:0|9){12}\d*$/;function Zt(f){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return di.test(f)?Math.round(f*i)/i:f}var pi=/^width|height|left|top|marginLeft|marginTop$/;function _t(f,i){var n=f.style;nt(i,function(t,r){pi.test(r)&&W(t)&&(t="".concat(t,"px")),n[r]=t})}function gi(f,i){return f.classList?f.classList.contains(i):f.className.indexOf(i)>-1}function ot(f,i){if(i){if(W(f.length)){nt(f,function(t){ot(t,i)});return}if(f.classList){f.classList.add(i);return}var n=f.className.trim();n?n.indexOf(i)<0&&(f.className="".concat(n," ").concat(i)):f.className=i}}function Tt(f,i){if(i){if(W(f.length)){nt(f,function(n){Tt(n,i)});return}if(f.classList){f.classList.remove(i);return}f.className.indexOf(i)>=0&&(f.className=f.className.replace(i,""))}}function qt(f,i,n){if(i){if(W(f.length)){nt(f,function(t){qt(t,i,n)});return}n?ot(f,i):Tt(f,i)}}var mi=/([a-z\d])([A-Z])/g;function je(f){return f.replace(mi,"$1-$2").toLowerCase()}function ke(f,i){return Xt(f[i])?f[i]:f.dataset?f.dataset[i]:f.getAttribute("data-".concat(je(i)))}function se(f,i,n){Xt(n)?f[i]=n:f.dataset?f.dataset[i]=n:f.setAttribute("data-".concat(je(i)),n)}function vi(f,i){if(Xt(f[i]))try{delete f[i]}catch{f[i]=void 0}else if(f.dataset)try{delete f.dataset[i]}catch{f.dataset[i]=void 0}else f.removeAttribute("data-".concat(je(i)))}var Sr=/\s\s*/,Ir=function(){var f=!1;if(we){var i=!1,n=function(){},t=Object.defineProperty({},"once",{get:function(){return f=!0,i},set:function(e){i=e}});Ot.addEventListener("test",n,t),Ot.removeEventListener("test",n,t)}return f}();function At(f,i,n){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=n;i.trim().split(Sr).forEach(function(e){if(!Ir){var h=f.listeners;h&&h[e]&&h[e][n]&&(r=h[e][n],delete h[e][n],Object.keys(h[e]).length===0&&delete h[e],Object.keys(h).length===0&&delete f.listeners)}f.removeEventListener(e,r,t)})}function yt(f,i,n){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=n;i.trim().split(Sr).forEach(function(e){if(t.once&&!Ir){var h=f.listeners,c=h===void 0?{}:h;r=function(){delete c[e][n],f.removeEventListener(e,r,t);for(var v=arguments.length,a=new Array(v),o=0;o<v;o++)a[o]=arguments[o];n.apply(f,a)},c[e]||(c[e]={}),c[e][n]&&f.removeEventListener(e,c[e][n],t),c[e][n]=r,f.listeners=c}f.addEventListener(e,r,t)})}function Kt(f,i,n){var t;return pt(Event)&&pt(CustomEvent)?t=new CustomEvent(i,{detail:n,bubbles:!0,cancelable:!0}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(i,!0,!0,n)),f.dispatchEvent(t)}function Ur(f){var i=f.getBoundingClientRect();return{left:i.left+(window.pageXOffset-document.documentElement.clientLeft),top:i.top+(window.pageYOffset-document.documentElement.clientTop)}}var De=Ot.location,bi=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function or(f){var i=f.match(bi);return i!==null&&(i[1]!==De.protocol||i[2]!==De.hostname||i[3]!==De.port)}function sr(f){var i="timestamp=".concat(new Date().getTime());return f+(f.indexOf("?")===-1?"?":"&")+i}function ae(f){var i=f.rotate,n=f.scaleX,t=f.scaleY,r=f.translateX,e=f.translateY,h=[];W(r)&&r!==0&&h.push("translateX(".concat(r,"px)")),W(e)&&e!==0&&h.push("translateY(".concat(e,"px)")),W(i)&&i!==0&&h.push("rotate(".concat(i,"deg)")),W(n)&&n!==1&&h.push("scaleX(".concat(n,")")),W(t)&&t!==1&&h.push("scaleY(".concat(t,")"));var c=h.length?h.join(" "):"none";return{WebkitTransform:c,msTransform:c,transform:c}}function wi(f){var i=wr({},f),n=0;return nt(f,function(t,r){delete i[r],nt(i,function(e){var h=Math.abs(t.startX-e.startX),c=Math.abs(t.startY-e.startY),m=Math.abs(t.endX-e.endX),v=Math.abs(t.endY-e.endY),a=Math.sqrt(h*h+c*c),o=Math.sqrt(m*m+v*v),s=(o-a)/a;Math.abs(s)>Math.abs(n)&&(n=s)})}),n}function le(f,i){var n=f.pageX,t=f.pageY,r={endX:n,endY:t};return i?r:wr({startX:n,startY:t},r)}function yi(f){var i=0,n=0,t=0;return nt(f,function(r){var e=r.startX,h=r.startY;i+=e,n+=h,t+=1}),i/=t,n/=t,{pageX:i,pageY:n}}function kt(f){var i=f.aspectRatio,n=f.height,t=f.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",e=ar(t),h=ar(n);if(e&&h){var c=n*i;r==="contain"&&c>t||r==="cover"&&c<t?n=t/i:t=n*i}else e?n=t/i:h&&(t=n*i);return{width:t,height:n}}function xi(f){var i=f.width,n=f.height,t=f.degree;if(t=Math.abs(t)%180,t===90)return{width:n,height:i};var r=t%90*Math.PI/180,e=Math.sin(r),h=Math.cos(r),c=i*h+n*e,m=i*e+n*h;return t>90?{width:m,height:c}:{width:c,height:m}}function Ai(f,i,n,t){var r=i.aspectRatio,e=i.naturalWidth,h=i.naturalHeight,c=i.rotate,m=c===void 0?0:c,v=i.scaleX,a=v===void 0?1:v,o=i.scaleY,s=o===void 0?1:o,l=n.aspectRatio,w=n.naturalWidth,E=n.naturalHeight,C=t.fillColor,y=C===void 0?"transparent":C,_=t.imageSmoothingEnabled,U=_===void 0?!0:_,S=t.imageSmoothingQuality,k=S===void 0?"low":S,u=t.maxWidth,O=u===void 0?1/0:u,d=t.maxHeight,p=d===void 0?1/0:d,x=t.minWidth,M=x===void 0?0:x,D=t.minHeight,T=D===void 0?0:D,A=document.createElement("canvas"),R=A.getContext("2d"),b=kt({aspectRatio:l,width:O,height:p}),g=kt({aspectRatio:l,width:M,height:T},"cover"),P=Math.min(b.width,Math.max(g.width,w)),I=Math.min(b.height,Math.max(g.height,E)),L=kt({aspectRatio:r,width:O,height:p}),B=kt({aspectRatio:r,width:M,height:T},"cover"),H=Math.min(L.width,Math.max(B.width,e)),z=Math.min(L.height,Math.max(B.height,h)),F=[-H/2,-z/2,H,z];return A.width=Zt(P),A.height=Zt(I),R.fillStyle=y,R.fillRect(0,0,P,I),R.save(),R.translate(P/2,I/2),R.rotate(m*Math.PI/180),R.scale(a,s),R.imageSmoothingEnabled=U,R.imageSmoothingQuality=k,R.drawImage.apply(R,[f].concat(xr(F.map(function(N){return Math.floor(Zt(N))})))),R.restore(),A}var Nr=String.fromCharCode;function Ei(f,i,n){var t="";n+=i;for(var r=i;r<n;r+=1)t+=Nr(f.getUint8(r));return t}var Di=/^data:.*,/;function Mi(f){var i=f.replace(Di,""),n=atob(i),t=new ArrayBuffer(n.length),r=new Uint8Array(t);return nt(r,function(e,h){r[h]=n.charCodeAt(h)}),t}function Ci(f,i){for(var n=[],t=8192,r=new Uint8Array(f);r.length>0;)n.push(Nr.apply(null,Rr(r.subarray(0,t)))),r=r.subarray(t);return"data:".concat(i,";base64,").concat(btoa(n.join("")))}function Ti(f){var i=new DataView(f),n;try{var t,r,e;if(i.getUint8(0)===255&&i.getUint8(1)===216)for(var h=i.byteLength,c=2;c+1<h;){if(i.getUint8(c)===255&&i.getUint8(c+1)===225){r=c;break}c+=1}if(r){var m=r+4,v=r+10;if(Ei(i,m,4)==="Exif"){var a=i.getUint16(v);if(t=a===18761,(t||a===19789)&&i.getUint16(v+2,t)===42){var o=i.getUint32(v+4,t);o>=8&&(e=v+o)}}}if(e){var s=i.getUint16(e,t),l,w;for(w=0;w<s;w+=1)if(l=e+w*12+2,i.getUint16(l,t)===274){l+=8,n=i.getUint16(l,t),i.setUint16(l,1,t);break}}}catch{n=1}return n}function Oi(f){var i=0,n=1,t=1;switch(f){case 2:n=-1;break;case 3:i=-180;break;case 4:t=-1;break;case 5:i=90,t=-1;break;case 6:i=90;break;case 7:i=90,n=-1;break;case 8:i=-90;break}return{rotate:i,scaleX:n,scaleY:t}}var Ri={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var i=this.element,n=this.options,t=this.container,r=this.cropper,e=Number(n.minContainerWidth),h=Number(n.minContainerHeight);ot(r,gt),Tt(i,gt);var c={width:Math.max(t.offsetWidth,e>=0?e:Tr),height:Math.max(t.offsetHeight,h>=0?h:Or)};this.containerData=c,_t(r,{width:c.width,height:c.height}),ot(i,gt),Tt(r,gt)},initCanvas:function(){var i=this.containerData,n=this.imageData,t=this.options.viewMode,r=Math.abs(n.rotate)%180===90,e=r?n.naturalHeight:n.naturalWidth,h=r?n.naturalWidth:n.naturalHeight,c=e/h,m=i.width,v=i.height;i.height*c>i.width?t===3?m=i.height*c:v=i.width/c:t===3?v=i.width/c:m=i.height*c;var a={aspectRatio:c,naturalWidth:e,naturalHeight:h,width:m,height:v};this.canvasData=a,this.limited=t===1||t===2,this.limitCanvas(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.left=(i.width-a.width)/2,a.top=(i.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCanvasData=J({},a)},limitCanvas:function(i,n){var t=this.options,r=this.containerData,e=this.canvasData,h=this.cropBoxData,c=t.viewMode,m=e.aspectRatio,v=this.cropped&&h;if(i){var a=Number(t.minCanvasWidth)||0,o=Number(t.minCanvasHeight)||0;c>1?(a=Math.max(a,r.width),o=Math.max(o,r.height),c===3&&(o*m>a?a=o*m:o=a/m)):c>0&&(a?a=Math.max(a,v?h.width:0):o?o=Math.max(o,v?h.height:0):v&&(a=h.width,o=h.height,o*m>a?a=o*m:o=a/m));var s=kt({aspectRatio:m,width:a,height:o});a=s.width,o=s.height,e.minWidth=a,e.minHeight=o,e.maxWidth=1/0,e.maxHeight=1/0}if(n)if(c>(v?0:1)){var l=r.width-e.width,w=r.height-e.height;e.minLeft=Math.min(0,l),e.minTop=Math.min(0,w),e.maxLeft=Math.max(0,l),e.maxTop=Math.max(0,w),v&&this.limited&&(e.minLeft=Math.min(h.left,h.left+(h.width-e.width)),e.minTop=Math.min(h.top,h.top+(h.height-e.height)),e.maxLeft=h.left,e.maxTop=h.top,c===2&&(e.width>=r.width&&(e.minLeft=Math.min(0,l),e.maxLeft=Math.max(0,l)),e.height>=r.height&&(e.minTop=Math.min(0,w),e.maxTop=Math.max(0,w))))}else e.minLeft=-e.width,e.minTop=-e.height,e.maxLeft=r.width,e.maxTop=r.height},renderCanvas:function(i,n){var t=this.canvasData,r=this.imageData;if(n){var e=xi({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),h=e.width,c=e.height,m=t.width*(h/t.naturalWidth),v=t.height*(c/t.naturalHeight);t.left-=(m-t.width)/2,t.top-=(v-t.height)/2,t.width=m,t.height=v,t.aspectRatio=h/c,t.naturalWidth=h,t.naturalHeight=c,this.limitCanvas(!0,!1)}(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCanvas(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,_t(this.canvas,J({width:t.width,height:t.height},ae({translateX:t.left,translateY:t.top}))),this.renderImage(i),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(i){var n=this.canvasData,t=this.imageData,r=t.naturalWidth*(n.width/n.naturalWidth),e=t.naturalHeight*(n.height/n.naturalHeight);J(t,{width:r,height:e,left:(n.width-r)/2,top:(n.height-e)/2}),_t(this.image,J({width:t.width,height:t.height},ae(J({translateX:t.left,translateY:t.top},t)))),i&&this.output()},initCropBox:function(){var i=this.options,n=this.canvasData,t=i.aspectRatio||i.initialAspectRatio,r=Number(i.autoCropArea)||.8,e={width:n.width,height:n.height};t&&(n.height*t>n.width?e.height=e.width/t:e.width=e.height*t),this.cropBoxData=e,this.limitCropBox(!0,!0),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),e.width=Math.max(e.minWidth,e.width*r),e.height=Math.max(e.minHeight,e.height*r),e.left=n.left+(n.width-e.width)/2,e.top=n.top+(n.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.initialCropBoxData=J({},e)},limitCropBox:function(i,n){var t=this.options,r=this.containerData,e=this.canvasData,h=this.cropBoxData,c=this.limited,m=t.aspectRatio;if(i){var v=Number(t.minCropBoxWidth)||0,a=Number(t.minCropBoxHeight)||0,o=c?Math.min(r.width,e.width,e.width+e.left,r.width-e.left):r.width,s=c?Math.min(r.height,e.height,e.height+e.top,r.height-e.top):r.height;v=Math.min(v,r.width),a=Math.min(a,r.height),m&&(v&&a?a*m>v?a=v/m:v=a*m:v?a=v/m:a&&(v=a*m),s*m>o?s=o/m:o=s*m),h.minWidth=Math.min(v,o),h.minHeight=Math.min(a,s),h.maxWidth=o,h.maxHeight=s}n&&(c?(h.minLeft=Math.max(0,e.left),h.minTop=Math.max(0,e.top),h.maxLeft=Math.min(r.width,e.left+e.width)-h.width,h.maxTop=Math.min(r.height,e.top+e.height)-h.height):(h.minLeft=0,h.minTop=0,h.maxLeft=r.width-h.width,h.maxTop=r.height-h.height))},renderCropBox:function(){var i=this.options,n=this.containerData,t=this.cropBoxData;(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCropBox(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,i.movable&&i.cropBoxMovable&&se(this.face,oe,t.width>=n.width&&t.height>=n.height?Er:ze),_t(this.cropBox,J({width:t.width,height:t.height},ae({translateX:t.left,translateY:t.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Kt(this.element,Se,this.getData())}},Si={initPreview:function(){var i=this.element,n=this.crossOrigin,t=this.options.preview,r=n?this.crossOriginUrl:this.url,e=i.alt||"The image to preview",h=document.createElement("img");if(n&&(h.crossOrigin=n),h.src=r,h.alt=e,this.viewBox.appendChild(h),this.viewBoxImage=h,!!t){var c=t;typeof t=="string"?c=i.ownerDocument.querySelectorAll(t):t.querySelector&&(c=[t]),this.previews=c,nt(c,function(m){var v=document.createElement("img");se(m,fe,{width:m.offsetWidth,height:m.offsetHeight,html:m.innerHTML}),n&&(v.crossOrigin=n),v.src=r,v.alt=e,v.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',m.innerHTML="",m.appendChild(v)})}},resetPreview:function(){nt(this.previews,function(i){var n=ke(i,fe);_t(i,{width:n.width,height:n.height}),i.innerHTML=n.html,vi(i,fe)})},preview:function(){var i=this.imageData,n=this.canvasData,t=this.cropBoxData,r=t.width,e=t.height,h=i.width,c=i.height,m=t.left-n.left-i.left,v=t.top-n.top-i.top;!this.cropped||this.disabled||(_t(this.viewBoxImage,J({width:h,height:c},ae(J({translateX:-m,translateY:-v},i)))),nt(this.previews,function(a){var o=ke(a,fe),s=o.width,l=o.height,w=s,E=l,C=1;r&&(C=s/r,E=e*C),e&&E>l&&(C=l/e,w=r*C,E=l),_t(a,{width:w,height:E}),_t(a.getElementsByTagName("img")[0],J({width:h*C,height:c*C},ae(J({translateX:-m*C,translateY:-v*C},i))))}))}},Ii={bind:function(){var i=this.element,n=this.options,t=this.cropper;pt(n.cropstart)&&yt(i,Ne,n.cropstart),pt(n.cropmove)&&yt(i,Ue,n.cropmove),pt(n.cropend)&&yt(i,Ie,n.cropend),pt(n.crop)&&yt(i,Se,n.crop),pt(n.zoom)&&yt(i,_e,n.zoom),yt(t,Ze,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&yt(t,rr,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&yt(t,qe,this.onDblclick=this.dblclick.bind(this)),yt(i.ownerDocument,Ke,this.onCropMove=this.cropMove.bind(this)),yt(i.ownerDocument,Je,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&yt(window,er,this.onResize=this.resize.bind(this))},unbind:function(){var i=this.element,n=this.options,t=this.cropper;pt(n.cropstart)&&At(i,Ne,n.cropstart),pt(n.cropmove)&&At(i,Ue,n.cropmove),pt(n.cropend)&&At(i,Ie,n.cropend),pt(n.crop)&&At(i,Se,n.crop),pt(n.zoom)&&At(i,_e,n.zoom),At(t,Ze,this.onCropStart),n.zoomable&&n.zoomOnWheel&&At(t,rr,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&At(t,qe,this.onDblclick),At(i.ownerDocument,Ke,this.onCropMove),At(i.ownerDocument,Je,this.onCropEnd),n.responsive&&At(window,er,this.onResize)}},Ui={resize:function(){if(!this.disabled){var i=this.options,n=this.container,t=this.containerData,r=n.offsetWidth/t.width,e=n.offsetHeight/t.height,h=Math.abs(r-1)>Math.abs(e-1)?r:e;if(h!==1){var c,m;i.restore&&(c=this.getCanvasData(),m=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(nt(c,function(v,a){c[a]=v*h})),this.setCropBoxData(nt(m,function(v,a){m[a]=v*h})))}}},dblclick:function(){this.disabled||this.options.dragMode===Cr||this.setDragMode(gi(this.dragBox,Oe)?Mr:Be)},wheel:function(i){var n=this,t=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(i.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),i.deltaY?r=i.deltaY>0?1:-1:i.wheelDelta?r=-i.wheelDelta/120:i.detail&&(r=i.detail>0?1:-1),this.zoom(-r*t,i)))},cropStart:function(i){var n=i.buttons,t=i.button;if(!(this.disabled||(i.type==="mousedown"||i.type==="pointerdown"&&i.pointerType==="mouse")&&(W(n)&&n!==1||W(t)&&t!==0||i.ctrlKey))){var r=this.options,e=this.pointers,h;i.changedTouches?nt(i.changedTouches,function(c){e[c.identifier]=le(c)}):e[i.pointerId||0]=le(i),Object.keys(e).length>1&&r.zoomable&&r.zoomOnTouch?h=Dr:h=ke(i.target,oe),ai.test(h)&&Kt(this.element,Ne,{originalEvent:i,action:h})!==!1&&(i.preventDefault(),this.action=h,this.cropping=!1,h===Ar&&(this.cropping=!0,ot(this.dragBox,ve)))}},cropMove:function(i){var n=this.action;if(!(this.disabled||!n)){var t=this.pointers;i.preventDefault(),Kt(this.element,Ue,{originalEvent:i,action:n})!==!1&&(i.changedTouches?nt(i.changedTouches,function(r){J(t[r.identifier]||{},le(r,!0))}):J(t[i.pointerId||0]||{},le(i,!0)),this.change(i))}},cropEnd:function(i){if(!this.disabled){var n=this.action,t=this.pointers;i.changedTouches?nt(i.changedTouches,function(r){delete t[r.identifier]}):delete t[i.pointerId||0],n&&(i.preventDefault(),Object.keys(t).length||(this.action=""),this.cropping&&(this.cropping=!1,qt(this.dragBox,ve,this.cropped&&this.options.modal)),Kt(this.element,Ie,{originalEvent:i,action:n}))}}},Ni={change:function(i){var n=this.options,t=this.canvasData,r=this.containerData,e=this.cropBoxData,h=this.pointers,c=this.action,m=n.aspectRatio,v=e.left,a=e.top,o=e.width,s=e.height,l=v+o,w=a+s,E=0,C=0,y=r.width,_=r.height,U=!0,S;!m&&i.shiftKey&&(m=o&&s?o/s:1),this.limited&&(E=e.minLeft,C=e.minTop,y=E+Math.min(r.width,t.width,t.left+t.width),_=C+Math.min(r.height,t.height,t.top+t.height));var k=h[Object.keys(h)[0]],u={x:k.endX-k.startX,y:k.endY-k.startY},O=function(p){switch(p){case Bt:l+u.x>y&&(u.x=y-l);break;case jt:v+u.x<E&&(u.x=E-v);break;case Nt:a+u.y<C&&(u.y=C-a);break;case Gt:w+u.y>_&&(u.y=_-w);break}};switch(c){case ze:v+=u.x,a+=u.y;break;case Bt:if(u.x>=0&&(l>=y||m&&(a<=C||w>=_))){U=!1;break}O(Bt),o+=u.x,o<0&&(c=jt,o=-o,v-=o),m&&(s=o/m,a+=(e.height-s)/2);break;case Nt:if(u.y<=0&&(a<=C||m&&(v<=E||l>=y))){U=!1;break}O(Nt),s-=u.y,a+=u.y,s<0&&(c=Gt,s=-s,a-=s),m&&(o=s*m,v+=(e.width-o)/2);break;case jt:if(u.x<=0&&(v<=E||m&&(a<=C||w>=_))){U=!1;break}O(jt),o-=u.x,v+=u.x,o<0&&(c=Bt,o=-o,v-=o),m&&(s=o/m,a+=(e.height-s)/2);break;case Gt:if(u.y>=0&&(w>=_||m&&(v<=E||l>=y))){U=!1;break}O(Gt),s+=u.y,s<0&&(c=Nt,s=-s,a-=s),m&&(o=s*m,v+=(e.width-o)/2);break;case ee:if(m){if(u.y<=0&&(a<=C||l>=y)){U=!1;break}O(Nt),s-=u.y,a+=u.y,o=s*m}else O(Nt),O(Bt),u.x>=0?l<y?o+=u.x:u.y<=0&&a<=C&&(U=!1):o+=u.x,u.y<=0?a>C&&(s-=u.y,a+=u.y):(s-=u.y,a+=u.y);o<0&&s<0?(c=ne,s=-s,o=-o,a-=s,v-=o):o<0?(c=re,o=-o,v-=o):s<0&&(c=ie,s=-s,a-=s);break;case re:if(m){if(u.y<=0&&(a<=C||v<=E)){U=!1;break}O(Nt),s-=u.y,a+=u.y,o=s*m,v+=e.width-o}else O(Nt),O(jt),u.x<=0?v>E?(o-=u.x,v+=u.x):u.y<=0&&a<=C&&(U=!1):(o-=u.x,v+=u.x),u.y<=0?a>C&&(s-=u.y,a+=u.y):(s-=u.y,a+=u.y);o<0&&s<0?(c=ie,s=-s,o=-o,a-=s,v-=o):o<0?(c=ee,o=-o,v-=o):s<0&&(c=ne,s=-s,a-=s);break;case ne:if(m){if(u.x<=0&&(v<=E||w>=_)){U=!1;break}O(jt),o-=u.x,v+=u.x,s=o/m}else O(Gt),O(jt),u.x<=0?v>E?(o-=u.x,v+=u.x):u.y>=0&&w>=_&&(U=!1):(o-=u.x,v+=u.x),u.y>=0?w<_&&(s+=u.y):s+=u.y;o<0&&s<0?(c=ee,s=-s,o=-o,a-=s,v-=o):o<0?(c=ie,o=-o,v-=o):s<0&&(c=re,s=-s,a-=s);break;case ie:if(m){if(u.x>=0&&(l>=y||w>=_)){U=!1;break}O(Bt),o+=u.x,s=o/m}else O(Gt),O(Bt),u.x>=0?l<y?o+=u.x:u.y>=0&&w>=_&&(U=!1):o+=u.x,u.y>=0?w<_&&(s+=u.y):s+=u.y;o<0&&s<0?(c=re,s=-s,o=-o,a-=s,v-=o):o<0?(c=ne,o=-o,v-=o):s<0&&(c=ee,s=-s,a-=s);break;case Er:this.move(u.x,u.y),U=!1;break;case Dr:this.zoom(wi(h),i),U=!1;break;case Ar:if(!u.x||!u.y){U=!1;break}S=Ur(this.cropper),v=k.startX-S.left,a=k.startY-S.top,o=e.minWidth,s=e.minHeight,u.x>0?c=u.y>0?ie:ee:u.x<0&&(v-=o,c=u.y>0?ne:re),u.y<0&&(a-=s),this.cropped||(Tt(this.cropBox,gt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}U&&(e.width=o,e.height=s,e.left=v,e.top=a,this.action=c,this.renderCropBox()),nt(h,function(d){d.startX=d.endX,d.startY=d.endY})}},_i={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ot(this.dragBox,ve),Tt(this.cropBox,gt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=J({},this.initialImageData),this.canvasData=J({},this.initialCanvasData),this.cropBoxData=J({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(J(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Tt(this.dragBox,ve),ot(this.cropBox,gt)),this},replace:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&i&&(this.isImg&&(this.element.src=i),n?(this.url=i,this.image.src=i,this.ready&&(this.viewBoxImage.src=i,nt(this.previews,function(t){t.getElementsByTagName("img")[0].src=i}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(i))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Tt(this.cropper,Qe)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ot(this.cropper,Qe)),this},destroy:function(){var i=this.element;return i[K]?(i[K]=void 0,this.isImg&&this.replaced&&(i.src=this.originalUrl),this.uncreate(),this):this},move:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,t=this.canvasData,r=t.left,e=t.top;return this.moveTo(Ee(i)?i:r+Number(i),Ee(n)?n:e+Number(n))},moveTo:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,t=this.canvasData,r=!1;return i=Number(i),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(W(i)&&(t.left=i,r=!0),W(n)&&(t.top=n,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(i,n){var t=this.canvasData;return i=Number(i),i<0?i=1/(1-i):i=1+i,this.zoomTo(t.width*i/t.naturalWidth,null,n)},zoomTo:function(i,n,t){var r=this.options,e=this.canvasData,h=e.width,c=e.height,m=e.naturalWidth,v=e.naturalHeight;if(i=Number(i),i>=0&&this.ready&&!this.disabled&&r.zoomable){var a=m*i,o=v*i;if(Kt(this.element,_e,{ratio:i,oldRatio:h/m,originalEvent:t})===!1)return this;if(t){var s=this.pointers,l=Ur(this.cropper),w=s&&Object.keys(s).length?yi(s):{pageX:t.pageX,pageY:t.pageY};e.left-=(a-h)*((w.pageX-l.left-e.left)/h),e.top-=(o-c)*((w.pageY-l.top-e.top)/c)}else Vt(n)&&W(n.x)&&W(n.y)?(e.left-=(a-h)*((n.x-e.left)/h),e.top-=(o-c)*((n.y-e.top)/c)):(e.left-=(a-h)/2,e.top-=(o-c)/2);e.width=a,e.height=o,this.renderCanvas(!0)}return this},rotate:function(i){return this.rotateTo((this.imageData.rotate||0)+Number(i))},rotateTo:function(i){return i=Number(i),W(i)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=i%360,this.renderCanvas(!0,!0)),this},scaleX:function(i){var n=this.imageData.scaleY;return this.scale(i,W(n)?n:1)},scaleY:function(i){var n=this.imageData.scaleX;return this.scale(W(n)?n:1,i)},scale:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,t=this.imageData,r=!1;return i=Number(i),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(W(i)&&(t.scaleX=i,r=!0),W(n)&&(t.scaleY=n,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,t=this.imageData,r=this.canvasData,e=this.cropBoxData,h;if(this.ready&&this.cropped){h={x:e.left-r.left,y:e.top-r.top,width:e.width,height:e.height};var c=t.width/t.naturalWidth;if(nt(h,function(a,o){h[o]=a/c}),i){var m=Math.round(h.y+h.height),v=Math.round(h.x+h.width);h.x=Math.round(h.x),h.y=Math.round(h.y),h.width=v-h.x,h.height=m-h.y}}else h={x:0,y:0,width:0,height:0};return n.rotatable&&(h.rotate=t.rotate||0),n.scalable&&(h.scaleX=t.scaleX||1,h.scaleY=t.scaleY||1),h},setData:function(i){var n=this.options,t=this.imageData,r=this.canvasData,e={};if(this.ready&&!this.disabled&&Vt(i)){var h=!1;n.rotatable&&W(i.rotate)&&i.rotate!==t.rotate&&(t.rotate=i.rotate,h=!0),n.scalable&&(W(i.scaleX)&&i.scaleX!==t.scaleX&&(t.scaleX=i.scaleX,h=!0),W(i.scaleY)&&i.scaleY!==t.scaleY&&(t.scaleY=i.scaleY,h=!0)),h&&this.renderCanvas(!0,!0);var c=t.width/t.naturalWidth;W(i.x)&&(e.left=i.x*c+r.left),W(i.y)&&(e.top=i.y*c+r.top),W(i.width)&&(e.width=i.width*c),W(i.height)&&(e.height=i.height*c),this.setCropBoxData(e)}return this},getContainerData:function(){return this.ready?J({},this.containerData):{}},getImageData:function(){return this.sized?J({},this.imageData):{}},getCanvasData:function(){var i=this.canvasData,n={};return this.ready&&nt(["left","top","width","height","naturalWidth","naturalHeight"],function(t){n[t]=i[t]}),n},setCanvasData:function(i){var n=this.canvasData,t=n.aspectRatio;return this.ready&&!this.disabled&&Vt(i)&&(W(i.left)&&(n.left=i.left),W(i.top)&&(n.top=i.top),W(i.width)?(n.width=i.width,n.height=i.width/t):W(i.height)&&(n.height=i.height,n.width=i.height*t),this.renderCanvas(!0)),this},getCropBoxData:function(){var i=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:i.left,top:i.top,width:i.width,height:i.height}),n||{}},setCropBoxData:function(i){var n=this.cropBoxData,t=this.options.aspectRatio,r,e;return this.ready&&this.cropped&&!this.disabled&&Vt(i)&&(W(i.left)&&(n.left=i.left),W(i.top)&&(n.top=i.top),W(i.width)&&i.width!==n.width&&(r=!0,n.width=i.width),W(i.height)&&i.height!==n.height&&(e=!0,n.height=i.height),t&&(r?n.height=n.width/t:e&&(n.width=n.height*t)),this.renderCropBox()),this},getCroppedCanvas:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,t=Ai(this.image,this.imageData,n,i);if(!this.cropped)return t;var r=this.getData(i.rounded),e=r.x,h=r.y,c=r.width,m=r.height,v=t.width/Math.floor(n.naturalWidth);v!==1&&(e*=v,h*=v,c*=v,m*=v);var a=c/m,o=kt({aspectRatio:a,width:i.maxWidth||1/0,height:i.maxHeight||1/0}),s=kt({aspectRatio:a,width:i.minWidth||0,height:i.minHeight||0},"cover"),l=kt({aspectRatio:a,width:i.width||(v!==1?t.width:c),height:i.height||(v!==1?t.height:m)}),w=l.width,E=l.height;w=Math.min(o.width,Math.max(s.width,w)),E=Math.min(o.height,Math.max(s.height,E));var C=document.createElement("canvas"),y=C.getContext("2d");C.width=Zt(w),C.height=Zt(E),y.fillStyle=i.fillColor||"transparent",y.fillRect(0,0,w,E);var _=i.imageSmoothingEnabled,U=_===void 0?!0:_,S=i.imageSmoothingQuality;y.imageSmoothingEnabled=U,S&&(y.imageSmoothingQuality=S);var k=t.width,u=t.height,O=e,d=h,p,x,M,D,T,A;O<=-c||O>k?(O=0,p=0,M=0,T=0):O<=0?(M=-O,O=0,p=Math.min(k,c+O),T=p):O<=k&&(M=0,p=Math.min(c,k-O),T=p),p<=0||d<=-m||d>u?(d=0,x=0,D=0,A=0):d<=0?(D=-d,d=0,x=Math.min(u,m+d),A=x):d<=u&&(D=0,x=Math.min(m,u-d),A=x);var R=[O,d,p,x];if(T>0&&A>0){var b=w/c;R.push(M*b,D*b,T*b,A*b)}return y.drawImage.apply(y,[t].concat(xr(R.map(function(g){return Math.floor(Zt(g))})))),C},setAspectRatio:function(i){var n=this.options;return!this.disabled&&!Ee(i)&&(n.aspectRatio=Math.max(0,i)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(i){var n=this.options,t=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var e=i===Be,h=n.movable&&i===Mr;i=e||h?i:Cr,n.dragMode=i,se(t,oe,i),qt(t,Oe,e),qt(t,Re,h),n.cropBoxMovable||(se(r,oe,i),qt(r,Oe,e),qt(r,Re,h))}return this}},ki=Ot.Cropper,_r=function(){function f(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Qr(this,f),!i||!hi.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i,this.options=J({},nr,Vt(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Vr(f,[{key:"init",value:function(){var n=this.element,t=n.tagName.toLowerCase(),r;if(!n[K]){if(n[K]=this,t==="img"){if(this.isImg=!0,r=n.getAttribute("src")||"",this.originalUrl=r,!r)return;r=n.src}else t==="canvas"&&window.HTMLCanvasElement&&(r=n.toDataURL());this.load(r)}}},{key:"load",value:function(n){var t=this;if(n){this.url=n,this.imageData={};var r=this.element,e=this.options;if(!e.rotatable&&!e.scalable&&(e.checkOrientation=!1),!e.checkOrientation||!window.ArrayBuffer){this.clone();return}if(oi.test(n)){si.test(n)?this.read(Mi(n)):this.clone();return}var h=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=h,h.onabort=c,h.onerror=c,h.ontimeout=c,h.onprogress=function(){h.getResponseHeader("content-type")!==ir&&h.abort()},h.onload=function(){t.read(h.response)},h.onloadend=function(){t.reloading=!1,t.xhr=null},e.checkCrossOrigin&&or(n)&&r.crossOrigin&&(n=sr(n)),h.open("GET",n,!0),h.responseType="arraybuffer",h.withCredentials=r.crossOrigin==="use-credentials",h.send()}}},{key:"read",value:function(n){var t=this.options,r=this.imageData,e=Ti(n),h=0,c=1,m=1;if(e>1){this.url=Ci(n,ir);var v=Oi(e);h=v.rotate,c=v.scaleX,m=v.scaleY}t.rotatable&&(r.rotate=h),t.scalable&&(r.scaleX=c,r.scaleY=m),this.clone()}},{key:"clone",value:function(){var n=this.element,t=this.url,r=n.crossOrigin,e=t;this.options.checkCrossOrigin&&or(t)&&(r||(r="anonymous"),e=sr(t)),this.crossOrigin=r,this.crossOriginUrl=e;var h=document.createElement("img");r&&(h.crossOrigin=r),h.src=e||t,h.alt=n.alt||"The image to crop",this.image=h,h.onload=this.start.bind(this),h.onerror=this.stop.bind(this),ot(h,Ve),n.parentNode.insertBefore(h,n.nextSibling)}},{key:"start",value:function(){var n=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var r=Ot.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ot.navigator.userAgent),e=function(v,a){J(n.imageData,{naturalWidth:v,naturalHeight:a,aspectRatio:v/a}),n.initialImageData=J({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(t.naturalWidth&&!r){e(t.naturalWidth,t.naturalHeight);return}var h=document.createElement("img"),c=document.body||document.documentElement;this.sizingImage=h,h.onload=function(){e(h.width,h.height),r||c.removeChild(h)},h.src=t.src,r||(h.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",c.appendChild(h))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,t=this.options,r=this.image,e=n.parentNode,h=document.createElement("div");h.innerHTML=ci;var c=h.querySelector(".".concat(K,"-container")),m=c.querySelector(".".concat(K,"-canvas")),v=c.querySelector(".".concat(K,"-drag-box")),a=c.querySelector(".".concat(K,"-crop-box")),o=a.querySelector(".".concat(K,"-face"));this.container=e,this.cropper=c,this.canvas=m,this.dragBox=v,this.cropBox=a,this.viewBox=c.querySelector(".".concat(K,"-view-box")),this.face=o,m.appendChild(r),ot(n,gt),e.insertBefore(c,n.nextSibling),Tt(r,Ve),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,ot(a,gt),t.guides||ot(a.getElementsByClassName("".concat(K,"-dashed")),gt),t.center||ot(a.getElementsByClassName("".concat(K,"-center")),gt),t.background&&ot(c,"".concat(K,"-bg")),t.highlight||ot(o,ei),t.cropBoxMovable&&(ot(o,Re),se(o,oe,ze)),t.cropBoxResizable||(ot(a.getElementsByClassName("".concat(K,"-line")),gt),ot(a.getElementsByClassName("".concat(K,"-point")),gt)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),pt(t.ready)&&yt(n,tr,t.ready,{once:!0}),Kt(n,tr)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Tt(this.element,gt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ki,f}},{key:"setDefaults",value:function(n){J(nr,Vt(n)&&n)}}])}();J(_r.prototype,Ri,Si,Ii,Ui,Ni,_i);var Wt=function(){return Wt=Object.assign||function(f){for(var i,n=1,t=arguments.length;n<t;n++)for(var r in i=arguments[n])Object.prototype.hasOwnProperty.call(i,r)&&(f[r]=i[r]);return f},Wt.apply(this,arguments)};function Me(f,i){var n={};for(var t in f)Object.prototype.hasOwnProperty.call(f,t)&&i.indexOf(t)<0&&(n[t]=f[t]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(t=Object.getOwnPropertySymbols(f);r<t.length;r++)i.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(f,t[r])&&(n[t[r]]=f[t[r]])}return n}var Pi=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],Li={opacity:0,maxWidth:"100%"},Fi=ce.forwardRef(function(f,i){var n=Me(f,[]),t=n.dragMode,r=t===void 0?"crop":t,e=n.src,h=n.style,c=n.className,m=n.crossOrigin,v=n.scaleX,a=n.scaleY,o=n.enable,s=n.zoomTo,l=n.rotateTo,w=n.alt,E=w===void 0?"picture":w,C=n.ready,y=n.onInitialized,_=Me(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),U={scaleY:a,scaleX:v,enable:o,zoomTo:s,rotateTo:l},S=function(){for(var u=[],O=0;O<arguments.length;O++)u[O]=arguments[O];var d=dt.useRef(null);return ce.useEffect(function(){u.forEach(function(p){p&&(typeof p=="function"?p(d.current):p.current=d.current)})},[u]),d}(i,dt.useRef(null));dt.useEffect(function(){var u;!((u=S.current)===null||u===void 0)&&u.cropper&&typeof s=="number"&&S.current.cropper.zoomTo(s)},[n.zoomTo]),dt.useEffect(function(){var u;!((u=S.current)===null||u===void 0)&&u.cropper&&e!==void 0&&S.current.cropper.reset().clear().replace(e)},[e]),dt.useEffect(function(){if(S.current!==null){var u=new _r(S.current,Wt(Wt({dragMode:r},_),{ready:function(O){O.currentTarget!==null&&function(d,p){p===void 0&&(p={});var x=p.enable,M=x===void 0||x,D=p.scaleX,T=D===void 0?1:D,A=p.scaleY,R=A===void 0?1:A,b=p.zoomTo,g=b===void 0?0:b,P=p.rotateTo;M?d.enable():d.disable(),d.scaleX(T),d.scaleY(R),P!==void 0&&d.rotateTo(P),g>0&&d.zoomTo(g)}(O.currentTarget.cropper,U),C&&C(O)}}));y&&y(u)}return function(){var O,d;(d=(O=S.current)===null||O===void 0?void 0:O.cropper)===null||d===void 0||d.destroy()}},[S]);var k=function(u){return Pi.reduce(function(O,d){var p=O,x=d;return p[x],Me(p,[typeof x=="symbol"?x:x+""])},u)}(Wt(Wt({},_),{crossOrigin:m,src:e,alt:E}));return ce.createElement("div",{style:h,className:c},ce.createElement("img",Wt({},k,{style:Li,ref:S})))});const Hi=({imageFile:f,onReset:i})=>{const n=dt.useRef(null),[t,r]=dt.useState({width:0,height:0}),[e,h]=dt.useState(1),[c,m]=dt.useState(!1),v=l=>{if(!n.current?.cropper)return;const E=n.current.cropper.getData();r({width:Math.round(E.width),height:Math.round(E.height)})},a=async l=>{if(!n.current)return;const E=(n.current?.cropper).getCroppedCanvas();return new Promise(C=>{E.toBlob(async y=>{if(y)if(l!=="image/svg+xml"){const _=await ft(new File([y],"image.jpg",{type:y.type}),{maxSizeMB:1,maxWidthOrHeight:t.width});C(_)}else C(new File([y],"image.svg",{type:"image/svg+xml"}))},l)})},o=async l=>{m(!0);try{const w=await a(l),E=URL.createObjectURL(w),C=document.createElement("a");C.href=E,C.download=`converted-image.${l.split("/")[1]}`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(E)}catch(w){console.error("Error processing image:",w)}m(!1)},s=l=>{if(!n.current)return;const E=(n.current?.cropper).getData();r({width:Math.round(E.width*l),height:Math.round(E.height*l)}),h(l)};return dt.useEffect(()=>{const l=()=>{if(!n.current)return;const E=n.current.cropper.getData();r({width:Math.round(E.width*e),height:Math.round(E.height*e)})};return n.current?.addEventListener("crop",l),()=>{n.current?.removeEventListener("crop",l)}},[n.current,e]),$.jsxs("div",{className:"space-y-8",children:[$.jsxs("div",{className:"relative",children:[$.jsx("button",{onClick:i,className:"absolute -top-4 -right-4 bg-gray-200 dark:bg-gray-800 p-2 rounded-full z-10 hover:bg-gray-300 dark:hover:bg-gray-700 dark:text-white",children:"âœ•"}),$.jsx(Fi,{ref:n,src:dt.useMemo(()=>URL.createObjectURL(f),[f]),style:{height:400,width:"100%"},guides:!0,responsive:!0,onLoad:v,viewMode:1,autoCropArea:1,className:"rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800"})]}),$.jsxs("div",{className:"flex justify-between items-start gap-8",children:[$.jsxs("div",{className:"space-y-4 flex-1",children:[$.jsxs("h3",{className:"text-lg font-semibold dark:text-white",children:["Download as (",t.width," x ",t.height,"px)"]}),$.jsx("div",{className:"flex gap-4",children:["image/png","image/jpeg","image/svg+xml"].map(l=>$.jsx("button",{onClick:()=>o(l),disabled:c,className:"px-4 py-2 bg-primary-light dark:bg-primary-dark text-white rounded-lg hover:opacity-90 disabled:opacity-50",children:l.split("/")[1].toUpperCase()},l))})]}),$.jsxs("div",{className:"space-y-4",children:[$.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Resolution"}),$.jsx("div",{className:"flex flex-col gap-2",children:[1,.75,.5,.25].map(l=>$.jsxs("button",{onClick:()=>s(l),className:`px-4 py-2 text-sm rounded transition-colors
									${e===l?"bg-primary-light dark:bg-primary-dark text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[l*100,"%"]},l))})]})]})]})},Wi=()=>{const[f,i]=dt.useState(null),n=r=>{i(r)},t=()=>{i(null)};return $.jsxs("div",{className:"container mx-auto px-4 py-16",children:[$.jsx("h1",{className:"text-4xl font-bold text-center mb-8 text-gray-900 dark:text-white",children:"Image Converter"}),f?$.jsx(Hi,{imageFile:f,onReset:t}):$.jsx(Fr,{onImageAccepted:n})]})};export{Wi as App};
